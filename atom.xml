<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>yangshuohao</title>
  
  
  <link href="https://www.yangshuohao.com/atom.xml" rel="self"/>
  
  <link href="https://www.yangshuohao.com/"/>
  <updated>2021-11-12T13:39:43.994Z</updated>
  <id>https://www.yangshuohao.com/</id>
  
  <author>
    <name>yangshuohao</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Test</title>
    <link href="https://www.yangshuohao.com/posts/784dd132.html"/>
    <id>https://www.yangshuohao.com/posts/784dd132.html</id>
    <published>2021-11-12T12:53:38.000Z</published>
    <updated>2021-11-12T13:39:43.994Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><!DOCTYPE html><!-- saved from url=(0049)https://codebeautify.org/hex-to-pantone-converter --><html prefix="og: http://ogp.me/ns#" class="" webcrx=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <title>HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color</title> <meta http-equiv="content-language" content="en-US">  <link href="https://codebeautify.org/img/cb.png" rel="icon"> <meta property="fb:app_id" content=""> <meta property="og:url" content="https://codebeautify.org/hex-to-pantone-converter"> <meta name="description" content="HEX to Pantone Color Converter"> <meta name="author" content="Jimmy"> <meta name="Keywords" content="hex to pantone,hexadecimal to pantone ,hextopantone,hex2pantone,hex to pantone converter"> <meta property="og:image" content="https://codebeautify.org/img/cb/logo.png"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color"> <meta name="twitter:description" content="HEX to Pantone Color Converter"> <meta name="twitter:image" content="https://codebeautify.org/img/cb/logo.png"> <meta name="twitter:url" content="https://codebeautify.org/hex-to-pantone-converter"> <meta name="twitter:creator" content="@codebeautify"> <meta http-equiv="X-UA-Compatible" content="IE=10">  <link rel="canonical" href="https://codebeautify.org/hex-to-pantone-converter"> <link href="https://codebeautify.org/img/cb.png" rel="icon">  <link href="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/formatter-min.css" rel="stylesheet"> <script type="text/javascript" async="" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/ga.js.download"></script><script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/f(4).txt"></script><script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/f(5).txt"></script><script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/f(6).txt" id="google_shimpl"></script><script async="" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/analytics.js.download"></script><script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/jquery.min.js.download"></script>  <meta http-equiv="origin-trial" content="AxujKG9INjsZ8/gUq8+dTruNvk7RjZQ1oFhhgQbcTJKDnZfbzSTE81wvC2Hzaf3TW4avA76LTZEMdiedF1vIbA4AAABueyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="Azuce85ORtSnWe1MZDTv68qpaW3iHyfL9YbLRy0cwcCZwVnePnOmkUJlG8HGikmOwhZU22dElCcfrfX2HhrBPAkAAAB7eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A16nvcdeoOAqrJcmjLRpl1I6f3McDD8EfofAYTt/P/H4/AWwB99nxiPp6kA0fXoiZav908Z8etuL16laFPUdfQsAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AxBHdr0J44vFBQtZUqX9sjiqf5yWZ/OcHRcRMN3H9TH+t90V/j3ENW6C8+igBZFXMJ7G3Pr8Dd13632aLng42wgAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A88BWHFjcawUfKU3lIejLoryXoyjooBXLgWmGh+hNcqMK44cugvsI5YZbNarYvi3roc1fYbHA1AVbhAtuHZflgEAAAB2eyJvcmlnaW4iOiJodHRwczovL2dvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IlRydXN0VG9rZW5zIiwiZXhwaXJ5IjoxNjUyNzc0NDAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A/OOU4XAFfeAV4kM4+W9WBwNAHqq/bvtrRcJ1wpnNyO/i076BSUy1d14l2kBEgVmEuvxojSpD23172C6hBg2AQYAAACWeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjM0MDgzMTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="AwrB+XVH/KV6HfZNVtSEqlUJi3yUbtCp0/TJRj+38NDIw19/9P1h7ECTtdLdhIzG0Bsl4n/0rVmttJtGUCcewgAAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjM0MDgzMTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="Ax15QOERqai2A5XWrDY38Eg07xh2T0pkhpDPJuDlxr7D2Ka8wHvklgK7tTPZOnT+8H31lwHto5JpvYV8jRn1WgIAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjM0MDgzMTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="AxujKG9INjsZ8/gUq8+dTruNvk7RjZQ1oFhhgQbcTJKDnZfbzSTE81wvC2Hzaf3TW4avA76LTZEMdiedF1vIbA4AAABueyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="Azuce85ORtSnWe1MZDTv68qpaW3iHyfL9YbLRy0cwcCZwVnePnOmkUJlG8HGikmOwhZU22dElCcfrfX2HhrBPAkAAAB7eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A16nvcdeoOAqrJcmjLRpl1I6f3McDD8EfofAYTt/P/H4/AWwB99nxiPp6kA0fXoiZav908Z8etuL16laFPUdfQsAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AxBHdr0J44vFBQtZUqX9sjiqf5yWZ/OcHRcRMN3H9TH+t90V/j3ENW6C8+igBZFXMJ7G3Pr8Dd13632aLng42wgAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A88BWHFjcawUfKU3lIejLoryXoyjooBXLgWmGh+hNcqMK44cugvsI5YZbNarYvi3roc1fYbHA1AVbhAtuHZflgEAAAB2eyJvcmlnaW4iOiJodHRwczovL2dvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IlRydXN0VG9rZW5zIiwiZXhwaXJ5IjoxNjUyNzc0NDAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A/OOU4XAFfeAV4kM4+W9WBwNAHqq/bvtrRcJ1wpnNyO/i076BSUy1d14l2kBEgVmEuvxojSpD23172C6hBg2AQYAAACWeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjM0MDgzMTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="AwrB+XVH/KV6HfZNVtSEqlUJi3yUbtCp0/TJRj+38NDIw19/9P1h7ECTtdLdhIzG0Bsl4n/0rVmttJtGUCcewgAAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjM0MDgzMTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="Ax15QOERqai2A5XWrDY38Eg07xh2T0pkhpDPJuDlxr7D2Ka8wHvklgK7tTPZOnT+8H31lwHto5JpvYV8jRn1WgIAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjM0MDgzMTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><link rel="preload" href="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/f(7).txt" as="script"><script type="text/javascript" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/f(7).txt"></script><style class="mpa-style-fix ImageGatherer">.FotorFrame{position:fixed!important}</style><style class="mpa-style-fix SideFunctionPanel">.weui-desktop-online-faq__wrp{top:304px!important;bottom:unset!important}.weui-desktop-online-faq__wrp .weui-desktop-online-faq__switch{width:38px!important}</style><link type="text/css" rel="stylesheet" charset="UTF-8" href="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/translateelement.css"><script type="text/javascript" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/001.js.download"></script><script type="text/javascript" async="" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/taas"></script></head><body id="cbBody" mpa-version="7.16.14" mpa-extension-id="ibefaeehajgcpooopoegkifhgecigeeg" aria-hidden="false" style="padding: 0px 0px 120px;"><input type="hidden" id="viewName" value="hex-to-pantone-converter"> <input type="hidden" id="isLogin" value=""> <input type="hidden" id="isFavTool" value="not-fav"> <meta name="viewport" content="width=device-width, initial-scale=1.0">   <script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-51765955-1', 'codebeautify.org');  ga('send', 'pageview');</script> <div class="navbar navbar-inverse navbar-fixed-top"> <div class="navbar-inner"> <div class="container-fluid"> <div class="mainheader"> <div class="logo"> <a href="https://codebeautify.org/" class="brand"> <div class="cblogoimage" title="Code Beautify"></div> </a> </div> <div class="headerMenu"> <div class="nav-collapse collapse"> <ul class="nav"> <li class="dropdown pull-right margin-last-li"> <a href="https://jsonformatter.org/" target="_blank" title="JSON Formatter">&nbsp;JSON Formatter</a> </li> <li class="dropdown pull-right margin-last-li"> <a href="https://hexcolorcodes.org/" target="_blank" title="Hex Color Codes">&nbsp;Hex Color Codes</a> </li> <li class="dropdown pull-right margin-last-li"> <a href="https://codebeautify.org/hmac-generator" title="HMAC Generator">&nbsp;HMAC Generator</a> </li> <li class="dropdown pull-right"> <a href="https://codebeautify.org/ipcheck-weatherinfo-latestnews">&nbsp;My Ip</a> </li> <li class="dropdown pull-right"> <a href="https://codebeautify.org/">Search</a> </li> <li class="dropdown pull-right"> <a href="https://codebeautify.org/recentLinksPage">Recent Links</a> </li> <li class="dropdown pull-right" id="moreMenu"> <a href="https://codebeautify.org/hex-to-pantone-converter#" id="more">More <b class="caret"></b></a> </li> <li> </li><li id="loggedin" class="dropdown" onclick="toggleOpenClass()" style="display:none"> <a id="username" class="dropbtn" data-toggle="dropdown"> <b id="usernamelable" class="dropbtn"></b> <b class="caret"></b> </a> <div id="myDropdown" class="dropdown-content"> <a class="leftText" style="float: none" href="https://codebeautify.org/userSaveLinkPage">Links</a> <a class="leftText" href="https://codebeautify.org/userSaveOldLinkPage">Archived</a> <a class="leftText" href="https://codebeautify.org/profile">Profile</a> <a class="leftText" href="https://codebeautify.org/myFavouriteTools">Favourites</a> <a class="leftText" href="https://codebeautify.org/logout">Logout</a> </div> </li>  <li id="notloggedin"> <a href="https://codebeautify.org/login" rel="nofollow">Sign in</a> </li> </ul> <div id="copy-note-msg" class="hide"> Copied to Clipboard. </div> </div> </div> </div> </div> </div> <div class="some_other_box"></div> </div> <div id="superdiv" class="superDiv"></div> <div id="fbpost" class="fbPost"> <div id="shareDiv"> </div> </div> <script> $("#savebtn").hide();</script> <div id="innerBody" class="innerBody setBgImage" style="height: auto !important;"> <div class="containe-fluid viewerInnerBodyDiv" style="height: auto !important;"> <div class="row-fluid back" style="height: auto !important;"> <div class="span12 margin0" style="height: auto !important; min-height: 0px !important;"> <div class="center" style="height: auto !important;"> <div class="span8 centersetting margin"> <h1 class="subTitleHead" id="subTitle">HEX to Pantone<i id="favToolImg" aria-hidden="true" class="icon-star-empty" title="make it favourite" style="cursor: pointer;"></i></h1> </div> <div class="span11 centersetting margin" style="margin: 0px 20px;"> <div id="colorEffect" class="span2 white divLeft marLeft20" style="background-color: rgb(53, 67, 77);"></div> <div class="marginleft0 span8 permalinkButtonDiv sourceCodeOptionDiv"> <label>Hex:</label> <input type="text" id="h" class="span2" value="FFFFFF" maxlength="6"> <label>Distance:</label> <select id="dist" class="span2" onclick="convertColor()" onchange="convertColor()"> <option value="16">16</option> <option value="32" selected="">32</option> <option value="48">48</option> <option value="64">64</option> <option value="80">80</option> <option value="96">96</option> </select> </div> <div id="colorPallete" class="span2 marginleft0 white divRight marRight20"><div class="colpick colpick_hex colpick_hex_ns" id="collorpicker_498" style="display: block; position: relative;"><div class="colpick_color" style="background-color: rgb(0, 149, 255);"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer" style="left: 48px; top: 109px;"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue" style="background:-webkit-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000); background: -o-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000); background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000); background:-moz-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000); -webkit-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000); background:linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000); "><div class="colpick_hue_arrs" style="top: 67px;"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color" style="background-color: rgb(53, 67, 77);"></div><div class="colpick_current_color" style="background-color: rgb(50, 137, 199);"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6"></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3"><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3"><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3"><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3"><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3"><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3"><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit">OK</div></div></div> </div> <div style="text-align:center;" class="adsense"> <script async="" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/f(8).txt" crossorigin="anonymous" data-checked-head="true"></script>  <ins class="adsbygoogle" style="display: block; height: 280px;" data-ad-client="ca-pub-4125058781634690" data-ad-slot="2203092761" data-ad-format="auto" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_1_expand" tabindex="0" title="Advertisement" aria-label="Advertisement" style="border: none; height: 280px; width: 1200px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;"><ins id="aswift_1_anchor" style="border: none; height: 280px; width: 1200px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block; overflow: visible;"><iframe id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;border:0;width:1200px;height:280px;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="1200" height="280" frameborder="0" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/ads.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!2" data-google-query-id="CNSH-vjrkvQCFZKzvAod900KIw" data-load-complete="true"></iframe></ins></ins></ins> <script>     (adsbygoogle = window.adsbygoogle || []).push({});</script> </div> <div class="span12 center viewerInnerBodyDiv1"> <div id="colorDiv" class="validatorContainer validateTableDiv"><table border="0" cellpadding="3" style="font-family:arial;font-size:12px;font-weight:bold"><tbody><tr align="center"><td><div>Black C</div><div title="2D2926" style="background-color:#2D2926;height:100px;width:100px;">&nbsp;</div></td><td><div>7554 C</div><div title="4B3D2A" style="background-color:#4B3D2A;height:100px;width:100px;">&nbsp;</div></td><td><div>7589 C</div><div title="5C4738" style="background-color:#5C4738;height:100px;width:100px;">&nbsp;</div></td><td><div>7617 C</div><div title="583D3E" style="background-color:#583D3E;height:100px;width:100px;">&nbsp;</div></td><td><div>7644 C</div><div title="582D40" style="background-color:#582D40;height:100px;width:100px;">&nbsp;</div></td><td><div>7645 C</div><div title="502B3A" style="background-color:#502B3A;height:100px;width:100px;">&nbsp;</div></td><td><div>497 C</div><div title="512F2E" style="background-color:#512F2E;height:100px;width:100px;">&nbsp;</div></td><td><div>7659 C</div><div title="5D3754" style="background-color:#5D3754;height:100px;width:100px;">&nbsp;</div></td><td><div>519 C</div><div title="59315F" style="background-color:#59315F;height:100px;width:100px;">&nbsp;</div></td><td><div>518 C</div><div title="4B3048" style="background-color:#4B3048;height:100px;width:100px;">&nbsp;</div></td><td><div>5185 C</div><div title="4A3041" style="background-color:#4A3041;height:100px;width:100px;">&nbsp;</div></td><td><div>5115 C</div><div title="512A44" style="background-color:#512A44;height:100px;width:100px;">&nbsp;</div></td></tr><tr align="center"><td><div>525 C</div><div title="572C5F" style="background-color:#572C5F;height:100px;width:100px;">&nbsp;</div></td><td><div>262 C</div><div title="51284F" style="background-color:#51284F;height:100px;width:100px;">&nbsp;</div></td><td><div>7666 C</div><div title="5C4E63" style="background-color:#5C4E63;height:100px;width:100px;">&nbsp;</div></td><td><div>269 C</div><div title="512D6D" style="background-color:#512D6D;height:100px;width:100px;">&nbsp;</div></td><td><div>2695 C</div><div title="2E1A47" style="background-color:#2E1A47;height:100px;width:100px;">&nbsp;</div></td><td><div>7448 C</div><div title="4B384C" style="background-color:#4B384C;height:100px;width:100px;">&nbsp;</div></td><td><div>7449 C</div><div title="41273B" style="background-color:#41273B;height:100px;width:100px;">&nbsp;</div></td><td><div>669 C</div><div title="3F2A56" style="background-color:#3F2A56;height:100px;width:100px;">&nbsp;</div></td><td><div>5265 C</div><div title="403A60" style="background-color:#403A60;height:100px;width:100px;">&nbsp;</div></td><td><div>534 C</div><div title="1B365D" style="background-color:#1B365D;height:100px;width:100px;">&nbsp;</div></td><td><div>533 C</div><div title="1F2A44" style="background-color:#1F2A44;height:100px;width:100px;">&nbsp;</div></td><td><div>7545 C</div><div title="425563" style="background-color:#425563;height:100px;width:100px;">&nbsp;</div></td></tr><tr align="center"><td><div>7546 C</div><div title="253746" style="background-color:#253746;height:100px;width:100px;">&nbsp;</div></td><td><div>2767 C</div><div title="13294B" style="background-color:#13294B;height:100px;width:100px;">&nbsp;</div></td><td><div>7476 C</div><div title="0D5257" style="background-color:#0D5257;height:100px;width:100px;">&nbsp;</div></td><td><div>7477 C</div><div title="244C5A" style="background-color:#244C5A;height:100px;width:100px;">&nbsp;</div></td><td><div>560 C</div><div title="1D3C34" style="background-color:#1D3C34;height:100px;width:100px;">&nbsp;</div></td><td><div>567 C</div><div title="173F35" style="background-color:#173F35;height:100px;width:100px;">&nbsp;</div></td><td><div>554 C</div><div title="205C40" style="background-color:#205C40;height:100px;width:100px;">&nbsp;</div></td><td><div>553 C</div><div title="284734" style="background-color:#284734;height:100px;width:100px;">&nbsp;</div></td><td><div>5545 C</div><div title="43695B" style="background-color:#43695B;height:100px;width:100px;">&nbsp;</div></td><td><div>5605 C</div><div title="22372B" style="background-color:#22372B;height:100px;width:100px;">&nbsp;</div></td><td><div>5477 C</div><div title="3E5D58" style="background-color:#3E5D58;height:100px;width:100px;">&nbsp;</div></td><td><div>5467 C</div><div title="18332F" style="background-color:#18332F;height:100px;width:100px;">&nbsp;</div></td></tr><tr align="center"><td><div>626 C</div><div title="285C4D" style="background-color:#285C4D;height:100px;width:100px;">&nbsp;</div></td><td><div>343 C</div><div title="115740" style="background-color:#115740;height:100px;width:100px;">&nbsp;</div></td><td><div>3435 C</div><div title="154734" style="background-color:#154734;height:100px;width:100px;">&nbsp;</div></td><td><div>350 C</div><div title="2C5234" style="background-color:#2C5234;height:100px;width:100px;">&nbsp;</div></td><td><div>357 C</div><div title="215732" style="background-color:#215732;height:100px;width:100px;">&nbsp;</div></td><td><div>7483 C</div><div title="275D38" style="background-color:#275D38;height:100px;width:100px;">&nbsp;</div></td><td><div>7734 C</div><div title="286140" style="background-color:#286140;height:100px;width:100px;">&nbsp;</div></td><td><div>7735 C</div><div title="36573B" style="background-color:#36573B;height:100px;width:100px;">&nbsp;</div></td><td><div>7736 C</div><div title="395542" style="background-color:#395542;height:100px;width:100px;">&nbsp;</div></td><td><div>7743 C</div><div title="44693D" style="background-color:#44693D;height:100px;width:100px;">&nbsp;</div></td><td><div>574 C</div><div title="4E5B31" style="background-color:#4E5B31;height:100px;width:100px;">&nbsp;</div></td><td><div>5747 C</div><div title="3D441E" style="background-color:#3D441E;height:100px;width:100px;">&nbsp;</div></td></tr><tr align="center"><td><div>5743 C</div><div title="3E4827" style="background-color:#3E4827;height:100px;width:100px;">&nbsp;</div></td><td><div>7763 C</div><div title="585C3B" style="background-color:#585C3B;height:100px;width:100px;">&nbsp;</div></td><td><div>7764 C</div><div title="535435" style="background-color:#535435;height:100px;width:100px;">&nbsp;</div></td><td><div>7771 C</div><div title="4E4934" style="background-color:#4E4934;height:100px;width:100px;">&nbsp;</div></td><td><div>449 C</div><div title="524727" style="background-color:#524727;height:100px;width:100px;">&nbsp;</div></td><td><div>448 C</div><div title="4A412A" style="background-color:#4A412A;height:100px;width:100px;">&nbsp;</div></td><td><div>7519 C</div><div title="5E4B3C" style="background-color:#5E4B3C;height:100px;width:100px;">&nbsp;</div></td><td><div>476 C</div><div title="4E3629" style="background-color:#4E3629;height:100px;width:100px;">&nbsp;</div></td><td><div>7533 C</div><div title="473729" style="background-color:#473729;height:100px;width:100px;">&nbsp;</div></td><td><div>7540 C</div><div title="4B4F54" style="background-color:#4B4F54;height:100px;width:100px;">&nbsp;</div></td><td><div>432 C</div><div title="333F48" style="background-color:#333F48;height:100px;width:100px;">&nbsp;</div></td><td><div>425 C</div><div title="54585A" style="background-color:#54585A;height:100px;width:100px;">&nbsp;</div></td></tr><tr align="center"><td><div>426 C</div><div title="25282A" style="background-color:#25282A;height:100px;width:100px;">&nbsp;</div></td><td><div>445 C</div><div title="505759" style="background-color:#505759;height:100px;width:100px;">&nbsp;</div></td><td><div>446 C</div><div title="3F4444" style="background-color:#3F4444;height:100px;width:100px;">&nbsp;</div></td><td><div>447 C</div><div title="373A36" style="background-color:#373A36;height:100px;width:100px;">&nbsp;</div></td><td><div>418 C</div><div title="51534A" style="background-color:#51534A;height:100px;width:100px;">&nbsp;</div></td><td><div>411 C</div><div title="5E514D" style="background-color:#5E514D;height:100px;width:100px;">&nbsp;</div></td><td><div>412 C</div><div title="382F2D" style="background-color:#382F2D;height:100px;width:100px;">&nbsp;</div></td><td><div>438 C</div><div title="584446" style="background-color:#584446;height:100px;width:100px;">&nbsp;</div></td><td><div>439 C</div><div title="453536" style="background-color:#453536;height:100px;width:100px;">&nbsp;</div></td><td><div>440 C</div><div title="382E2C" style="background-color:#382E2C;height:100px;width:100px;">&nbsp;</div></td><td><div>Cool Gray 11 C</div><div title="53565A" style="background-color:#53565A;height:100px;width:100px;">&nbsp;</div></td><td><div>Black 5 C</div><div title="3E2B2E" style="background-color:#3E2B2E;height:100px;width:100px;">&nbsp;</div></td></tr><tr align="center"><td><div>Black 7 C</div><div title="3D3935" style="background-color:#3D3935;height:100px;width:100px;">&nbsp;</div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div></div></td><td><div></div></td></tr></tbody></table></div> </div> </div> </div> </div> </div> </div> <input type="hidden" id="hiddenHex" value="35434d"> <div style="text-align:center;" class="adsense"> <script async="" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/f(8).txt" crossorigin="anonymous" data-checked-head="true"></script>  <ins class="adsbygoogle" style="display: block; height: 280px;" data-ad-client="ca-pub-4125058781634690" data-ad-slot="2203092761" data-ad-format="auto" data-adsbygoogle-status="done" data-ad-status="filled"><ins id="aswift_2_expand" tabindex="0" title="Advertisement" aria-label="Advertisement" style="border: none; height: 280px; width: 1200px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;"><ins id="aswift_2_anchor" style="border: none; height: 280px; width: 1200px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block; overflow: visible;"><iframe id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0;width:1200px;height:280px;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="1200" height="280" frameborder="0" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/ads(1).html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!3" data-google-query-id="CNac-vjrkvQCFRYdvAodrnIGQw" data-load-complete="true"></iframe></ins></ins></ins> <script>     (adsbygoogle = window.adsbygoogle || []).push({});</script> </div> <div class="container-fluid infoSection"> <div class="row-fluid footerpart"> <div class="span12"> <div class="span6 infoDiv"> <h3>What can you do with Hex to Pantone Converter ?</h3> <ul class="infoFeatureDiv"> <li>Convert your Hex value to Pantone value</li> </ul> </div> <div class="span6 infoTools" id="relatedTools"> <h3>Related Tools</h3> <ul> <li> <a href="https://codebeautify.org/hsv-to-rgb-converter">HSV to RGB Converter </a> </li> <li> <a href="https://codebeautify.org/hsv-to-hex-converter">HSV to HEX Converter </a> </li> <li> <a href="https://codebeautify.org/hsv-to-cmyk-converter">HSV to CMYK Converter </a> </li> <li> <a href="https://codebeautify.org/cmyk-to-pantone-converter">CMYK to Pantone Converter </a> </li> <li> <a href="https://codebeautify.org/cmyk-to-rgb-converter">CMYK to RGB Converter </a> </li> <li> <a href="https://codebeautify.org/cmyk-to-hex-converter">CMYK to HEX Converter </a> </li> </ul> <h3>Recently Used Tools</h3><ul></ul></div> </div> </div> </div> <script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/common_load_with_home.js.download"></script> <link rel="stylesheet" href="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/colpick.css"><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important;" data-ad-status="unfilled"><ins id="aswift_0_expand" tabindex="0" title="Advertisement" aria-label="Advertisement" style="border: none; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;"><ins id="aswift_0_anchor" style="border: none; height: 0px; width: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block;"><iframe id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;border:0;width:undefinedpx;height:undefinedpx;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" frameborder="0" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/ads(2).html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!1" data-load-complete="true"></iframe></ins></ins></ins> <link rel="stylesheet" href="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/jquery.dataTables.min.css"> <script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/jquery.dataTables.min.js.download"></script> <script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/colpick.js.download"></script> <script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/color.js.download"></script> <script src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/pantonJS.js.download"></script> <script>    $(document).ready(function() {        //called after everything loaded        setDefaultData();        conditionalCode();        $("#me").click();    });</script> <div class="container-fluid" style="height: auto !important;"> <div class="row-fluid footerpart" style="height: auto !important;"> <div class="footer_container"> <div class="footer_map" id="footer_map" style="height: auto !important;"> <div class="footerhead"> <div class="footerheadimg"> <div class="logo"> <a href="https://codebeautify.org/" class="cblogoimage"></a> </div> </div> </div> <div class="footersub1"> <h4>Unit Converter</h4> <ul> <li><a href="https://codebeautify.org/length-converter">Length Converter</a></li> <li><a href="https://codebeautify.org/weight-converter">Weight Converter</a></li> <li><a href="https://codebeautify.org/volume-converter">Volume Converter</a></li> <li><a href="https://codebeautify.org/area-converter">Area Converter</a></li> <li><a href="https://codebeautify.org/temperature-converter">Temperature Converter</a></li> <li><a href="https://codebeautify.org/density-converter">Density Converter</a></li> <li><a href="https://codebeautify.org/electric-current-converter">Electric Current Converter</a></li> <li><a href="https://codebeautify.org/speed-converter">Speed Converter</a></li> <li><a href="https://codebeautify.org/angle-converter">Angle Converter</a></li> <li><a href="https://codebeautify.org/bytes-converter">Bytes/Bits Converter</a></li> <li><a href="https://codebeautify.org/energy-converter">Energy Converter</a></li> <li><a href="https://codebeautify.org/force-converter">Force Converter</a></li> <li><a href="https://codebeautify.org/fuel-converter">Fuel Converter</a></li> <li><a href="https://codebeautify.org/mass-converter">Mass Converter</a></li> <li><a href="https://codebeautify.org/power-converter">Power Converter</a></li> <li><a href="https://codebeautify.org/pressure-converter">Pressure Converter</a></li> <li><a href="https://codebeautify.org/time-converter">Time Converter</a></li> <li><a href="https://codebeautify.org/astronomical-converter">Astronomical Converter</a></li> <li><a href="https://codebeautify.org/frequency-converter">Frequency Converter</a></li> <li><a href="https://codebeautify.org/unix-time-stamp-converter">Unix Timestamp Converter</a></li> </ul> </div> <div class="footersub1"> <h4>Converters</h4> <ul> <li><a href="https://codebeautify.org/word-to-html-converter">Word to HTML Converter</a></li> <li><a href="https://codebeautify.org/json-to-java-converter">JSON to JAVA Converter</a></li> <li><a href="https://codebeautify.org/xml-to-java-converter">XML to JAVA Converter</a></li> <li><a href="https://codebeautify.org/tableizer">Online Tableizer</a></li> <li><a href="https://codebeautify.org/html-to-csv-converter">HTML to CSV Converter</a></li> <li><a href="https://codebeautify.org/html-to-tsv-converter">HTML to TSV Converter</a></li> <li><a href="https://codebeautify.org/html-to-php-converter">HTML to PHP Converter</a></li> <li><a href="https://codebeautify.org/xml-xsl-transformation">XML-XSL Transform</a></li> <li><a href="https://codebeautify.org/xmltojson">XML to JSON</a></li> <li><a href="https://codebeautify.org/jsontoxml">JSON to XML</a></li> <li><a href="https://codebeautify.org/csv-to-xml-json">CSV to XML/JSON</a></li> <li><a href="https://codebeautify.org/yaml-to-json-xml-csv">YAML Converter</a></li> <li><a href="https://codebeautify.org/image-to-base64-converter">Image to Base64</a></li> <li><a href="https://codebeautify.org/base64-to-image-converter">Base64 to Image</a></li> <li><a href="https://codebeautify.org/date-time-calculater">Date Calculater</a></li> <li><a href="https://codebeautify.org/excel-to-html">EXCEL to HTML</a></li> <li><a href="https://codebeautify.org/excel-to-xml">EXCEL to XML</a></li> <li><a href="https://codebeautify.org/excel-to-json">EXCEL to JSON</a></li> <li><a href="https://codebeautify.org/json-to-yaml">JSON to YAML</a></li> <li><a href="https://codebeautify.org/xml-to-yaml">XML to YAML</a></li> <li><a href="https://codebeautify.org/csv-to-xml-converter">CSV to XML</a></li> <li><a href="https://codebeautify.org/csv-to-json-converter">CSV to JSON</a></li> <li><a href="https://codebeautify.org/csv-to-html-converter">CSV to HTML</a></li> <li><a href="https://codebeautify.org/csv-to-tsv-converter">CSV to TSV</a></li> <li><a href="https://codebeautify.org/json-to-csv">JSON to CSV</a></li><li> </li><li><a href="https://codebeautify.org/json-to-tsv-converter">JSON to TSV</a></li> <li><a href="https://codebeautify.org/xml-to-csv-converter">XML to CSV</a></li> <li><a href="https://codebeautify.org/xml-to-tsv-converter">XML to TSV</a></li> <li><a href="https://codebeautify.org/html-to-csv-converter">HTML to CSV</a></li> <li><a href="https://codebeautify.org/csv-to-multi-line-converter">CSV to MULTILINE DATA</a></li> <li><a href="https://codebeautify.org/csv-to-sql-converter">CSV to SQL</a></li> <li><a href="https://codebeautify.org/sql-to-csv-converter">SQL to CSV Converter</a></li> <li><a href="https://codebeautify.org/sql-to-json-converter">SQL to JSON Converter</a></li> <li><a href="https://codebeautify.org/sql-to-xml-converter">SQL to XML Converter</a></li> <li><a href="https://codebeautify.org/sql-to-yaml-converter">SQL to YAML Converter</a></li> <li><a href="https://codebeautify.org/sql-to-html-converter">SQL to HTML Converter</a></li> <li><a href="https://codebeautify.org/opml-to-json-converter">OPML to JSON</a></li> <li><a href="https://codebeautify.org/hex-to-pantone-converter">HEX to Pantone Converter</a></li> <li><a href="https://codebeautify.org/rgb-to-pantone-converter">RGB to Pantone Converter</a></li> <li><a href="https://codebeautify.org/hsv-to-pantone-converter">HSV to Pantone Converter</a></li> <li><a href="https://codebeautify.org/cmyk-to-pantone-converter">CMYK to Pantone Converter</a></li> <li><a href="https://codebeautify.org/cmyk-to-hex-converter">CMYK to HEX Converter</a></li> <li><a href="https://codebeautify.org/cmyk-to-rgb-converter">CMYK to RGB Converter</a></li> <li><a href="https://codebeautify.org/cmyk-to-hsv-converter">CMYK to HSV Converter</a></li> <li><a href="https://codebeautify.org/hsv-to-hex-converter">HSV to HEX Converter</a></li> <li><a href="https://codebeautify.org/hsv-to-rgb-converter">HSV to RGB Converter</a></li> <li><a href="https://codebeautify.org/hsv-to-cmyk-converter">HSV to CMYK Converter</a></li> <li><a href="https://codebeautify.org/hex-to-hsv-converter">HEX to HSV Converter</a></li> <li><a href="https://codebeautify.org/rgb-to-hex-converter">RGB to HEX Converter</a></li> <li><a href="https://codebeautify.org/rgb-to-hsv-converter">RGB to HSV Converter</a></li> <li><a href="https://codebeautify.org/rgb-to-cmyk-converter">RGB to CMYK Converter</a></li> <li><a href="https://codebeautify.org/hex-to-rgb-converter">HEX to RGB Converter</a></li> <li><a href="https://codebeautify.org/hex-to-cmyk-converter">HEX to CMYK Converter</a></li> <li><a href="https://codebeautify.org/json-to-html-converter">JSON to HTML</a></li> <li><a href="https://codebeautify.org/xml-to-html-converter">XML to HTML</a></li> <li><a href="https://codebeautify.org/json-to-excel-converter">JSON to Excel</a></li> <li><a href="https://codebeautify.org/xml-to-excel-converter">XML to Excel</a></li> <li><a href="https://codebeautify.org/csv-to-excel-converter">CSV to Excel</a></li> <li><a href="https://codebeautify.org/yaml-to-excel-converter">YAML to Excel</a></li> </ul> </div> <div class="footersub1"> <h4>Web Viewer / Editor</h4> <ul> <li><a href="https://codebeautify.org/jsonviewer" class="firstchild">JSON Viewer</a> </li> <li><a href="https://codebeautify.org/xmlviewer">XML Viewer</a></li> <li><a href="https://codebeautify.org/mxmlviewer">MXML Viewer</a></li> <li><a href="https://codebeautify.org/htmlviewer/">HTML Viewer </a></li> <li><a href="https://codebeautify.org/css-beautify-minify">CSS BEAUTIFY AND MINIFY</a></li> <li><a href="https://codebeautify.org/jsviewer">JAVASCRIPT Viewer</a></li> <li><a href="https://codebeautify.org/rssviewer">RSS Viewer</a></li> <li><a href="https://codebeautify.org/source-code-viewer">SOURCE CODE Viewer</a></li> <li><a href="https://codebeautify.org/opmlviewer">OPML Viewer</a> </li> <li><a href="https://codebeautify.org/csv-viewer">CSV Viewer</a> </li> </ul> <h4>Programming Editors</h4> <ul> <li><a href="https://codebeautify.org/online-xml-editor">XML EDITOR</a></li> <li><a href="https://codebeautify.org/online-json-editor">JSON EDITOR</a></li> <li><a href="https://codebeautify.org/alleditor">ONLINE EDITOR</a></li> <li><a href="https://codebeautify.org/javaviewer">JAVA EDITOR</a></li> <li><a href="https://codebeautify.org/csharpviewer">C# EDITOR</a></li> <li><a href="https://codebeautify.org/actionscript">Action Script EDITOR</a></li> <li><a href="https://codebeautify.org/sqlformatter">SQL Formatter</a></li> </ul> <h4>Escape Unescape Tools</h4> <ul> <li><a href="https://codebeautify.org/html-escape-unescape" title="HTML Escape Unescape">HTML Escape Unescape</a></li> <li><a href="https://codebeautify.org/xml-escape-unescape" title="XML Escape Unescape">XML Escape Unescape</a></li> <li><a href="https://codebeautify.org/java-escape-unescape" title="Java Escape Unescape">Java Escape Unescape</a></li> <li><a href="https://codebeautify.org/csharp-escape-unescape" title="C# Escape Unescape">C# Escape Unescape</a></li> <li><a href="https://codebeautify.org/javascript-escape-unescape" title="Javascript Escape Unescape">Javascript Escape Unescape</a></li> <li><a href="https://codebeautify.org/csv-escape-unescape" title="CSV Escape Unescape">CSV Escape Unescape</a></li> <li><a href="https://codebeautify.org/sql-escape-unescape" title="SQL Escape Unescape">SQL Escape Unescape</a></li> <li><a href="https://codebeautify.org/json-escape-unescape" title="JSON Escape Unescape">JSON Escape Unescape</a></li> <li><a href="https://codebeautify.org/un-google-link" title="Un-Google Link">Un-Google Link</a></li> </ul> <h4>CryptoGraphy Tools</h4> <ul> <li><a href="https://codebeautify.org/encrypt-decrypt">Encryption-Decryption</a></li> </ul> <h4>Other Tools</h4> <ul>  <li><a href="https://codebeautify.org/lorem-ipsum">Lorem-Ipsum</a></li> <li><a href="https://codebeautify.org/share-link-generator">Sharelink Generator</a></li> <li><a href="https://codebeautify.org/hostname-to-ip" title="Hostname to IP">Hostname to IP</a></li> <li><a href="https://codebeautify.org/ip-to-hostname" title="IP to Hostname">IP to Hostname</a></li> <li><a href="https://codebeautify.org/dns-lookup" title="DNS Lookup">DNS Lookup</a></li> <li><a href="https://codebeautify.org/mx-lookup" title="MX Lookup">MX Lookup</a></li> <li><a href="https://codebeautify.org/name-server-lookup" title="name-server-lookup">Nameserver Lookup</a></li> <li><a href="https://codebeautify.org/website-to-ip-address" title="Website to IP Address">Website to IP Address</a></li><li> </li><li><a href="https://codebeautify.org/open-port-checker" title="Open Port Checker">Open Port Checker</a></li><li> </li></ul> </div> <div class="footersub1"> <h4>Utility</h4> <ul> <li><a href="https://codebeautify.org/send-snap-message">Send Snap Message</a></li> <li><a href="https://codebeautify.org/responsive-website-tester">Responsive Website Tester</a></li> <li><a href="https://codebeautify.org/credit-card-validate">Credit Card Validator</a></li> <li><a href="https://codebeautify.org/credit-card-fake-number-generator">Credit Card Fake Number Generator</a></li> <li><a href="https://codebeautify.org/Xpath-Tester">XPath Tester</a></li> <li><a href="https://codebeautify.org/jsonpath-tester" title="Json Path Tester">Json Path Tester</a></li><li> <a href="https://codebeautify.org/jsonminifier" title="JSON Minifier">Json Minifier</a></li> <li><a href="https://codebeautify.org/file-diff">File Difference</a></li> <li><a href="https://codebeautify.org/json-diff">JSON Diff</a></li><li> <a href="https://codebeautify.org/xml-diff">XML Diff</a><span class="blink">New</span></li> <li><a href="https://codebeautify.org/broken-link-checker">Broken Link Checker</a></li> </ul> <h4>String Utilities</h4> <ul> <li><a href="https://codebeautify.org/random-word-generator">Random Word Generator</a></li> <li><a href="https://codebeautify.org/ntlm-hash-generator">NTLM Hash Generator</a></li> <li><a href="https://codebeautify.org/password-generator">Password Generator</a></li> <li><a href="https://codebeautify.org/string-builder">String Builder</a></li> <li><a href="https://codebeautify.org/number-to-word-converter">NUMBER to WORD Converter</a></li> <li><a href="https://codebeautify.org/wordcounter">WORD COUNTER</a></li> <li><a href="https://codebeautify.org/reverse-string">Reverse String</a></li> <li><a href="https://codebeautify.org/html-encode-string">HTML Encode</a></li> <li><a href="https://codebeautify.org/html-decode-string">HTML Decode</a></li> <li><a href="https://codebeautify.org/base64-encode">Base64-Encode</a></li> <li><a href="https://codebeautify.org/base64-decode">Base64-Decode</a></li> <li><a href="https://codebeautify.org/url-encode-string">URL-Encode A String</a></li> <li><a href="https://codebeautify.org/url-decode-string">URL-Decode A String</a></li> <li><a href="https://codebeautify.org/string-hex-converter">String to Hex Converter</a></li> <li><a href="https://codebeautify.org/hex-string-converter">Hex to String Converter</a></li> <li><a href="https://codebeautify.org/string-binary-converter">String to Binary Converter</a></li> <li><a href="https://codebeautify.org/binary-string-converter">Binary to String Converter</a> </li> <li><a href="https://codebeautify.org/case-converter">Case Converter </a></li> <li><a href="https://codebeautify.org/delimited-text-extractor">Delimited Text Extractor </a></li> <li><a href="https://codebeautify.org/remove-accents">Remove Accents </a></li> <li><a href="https://codebeautify.org/remove-duplicate-lines">Remove Duplicate Lines</a></li> <li><a href="https://codebeautify.org/remove-empty-lines">Remove Empty Lines</a></li> <li><a href="https://codebeautify.org/remove-extra-spaces">Remove Extra Spaces </a></li> <li><a href="https://codebeautify.org/remove-line-breaks">Remove Line Breaks</a></li> <li><a href="https://codebeautify.org/remove-lines-containing">Remove Lines Containing</a></li> <li><a href="https://codebeautify.org/sort-text-lines">Sort Text Lines</a></li> </ul> </div> <div class="footersub1" style="height: auto !important;"><div class="google-auto-placed" style="width: 100%; height: auto; clear: none; text-align: center;"><ins data-ad-format="auto" class="adsbygoogle adsbygoogle-noablate" data-ad-client="ca-pub-4125058781634690" data-adsbygoogle-status="done" style="display: block; margin: 10px auto; background-color: transparent; height: 250px;" data-ad-status="filled"><ins id="aswift_3_expand" tabindex="0" title="Advertisement" aria-label="Advertisement" style="border: none; height: 250px; width: 301px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: inline-table;"><ins id="aswift_3_anchor" style="border: none; height: 250px; width: 301px; margin: 0px; padding: 0px; position: relative; visibility: visible; background-color: transparent; display: block; overflow: visible;"><iframe id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;border:0;width:301px;height:250px;" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="301" height="250" frameborder="0" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/ads(3).html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!4" data-google-query-id="CNG8vvnrkvQCFUvivAodoycCBg" data-load-complete="true"></iframe></ins></ins></ins></div> <h4>Validators</h4> <ul> <li><a href="https://codebeautify.org/cssvalidate">CSS Validator</a></li> <li><a href="https://codebeautify.org/jsvalidate">JAVASCRIPT Validator</a></li> <li><a href="https://codebeautify.org/jsonvalidator">JSON Validator</a></li> <li><a href="https://codebeautify.org/xmlvalidator">XML Validator</a></li> <li><a href="https://codebeautify.org/credit-card-validate">CREDIT CARD Validator</a></li> <li><a href="https://codebeautify.org/api-test">API Test</a></li> <li><a href="https://codebeautify.org/yaml-validator">YAML Validator</a></li> </ul> <h4>Number Utilities</h4> <ul> <li><a href="https://codebeautify.org/all-number-converter">All NumbersConverter</a></li> <li><a href="https://codebeautify.org/decimal-binary-converter">Decimal toBinary Converter</a></li> <li><a href="https://codebeautify.org/decimal-octal-converter">Decimal to Octal Converter</a></li> <li><a href="https://codebeautify.org/binary-decimal-converter">Binary to Decimal Converter</a></li> <li><a href="https://codebeautify.org/binary-hex-converter">Binary to Hex Converter</a></li> <li><a href="https://codebeautify.org/binary-octal-converter">Binary to OctalConverter</a></li> <li><a href="https://codebeautify.org/hex-decimal-converter">Hex to Decimal Converter</a></li> <li><a href="https://codebeautify.org/hex-binary-converter">Hex to Binary Converter</a></li> <li><a href="https://codebeautify.org/hex-octal-converter">Hex to OctalConverter</a></li> <li><a href="https://codebeautify.org/octal-decimal-converter">Octal toDecimal Converter</a></li> <li><a href="https://codebeautify.org/octal-binary-converter">Octal to BinaryConverter</a></li> <li><a href="https://codebeautify.org/octal-hex-converter"> Octal to HexConverter </a></li> </ul> <h4>Image Tools</h4> <ul> <li><a href="https://codebeautify.org/jpg-to-png-converter">JPG to PNG Converter</a></li> <li><a href="https://codebeautify.org/jpg-to-bmp-converter">JPG to BMP Converter</a></li> <li><a href="https://codebeautify.org/jpg-to-gif-converter">JPG to GIF Converter</a></li> <li><a href="https://codebeautify.org/bmp-to-png-converter">BMP to PNG Converter</a></li> <li><a href="https://codebeautify.org/bmp-to-jpg-converter">BMP to JPG Converter</a></li> <li><a href="https://codebeautify.org/bmp-to-gif-converter">BMP to GIF Converter</a></li> <li><a href="https://codebeautify.org/gif-to-png-converter">GIF to PNG Converter</a></li> <li><a href="https://codebeautify.org/gif-to-jpg-converter">GIF to JPG Converter</a></li> <li><a href="https://codebeautify.org/gif-to-bmp-converter">GIF to BMP Converter</a></li> <li><a href="https://codebeautify.org/png-to-jpg-converter">PNG to JPG Converter</a></li> <li><a href="https://codebeautify.org/png-to-bmp-converter">PNG to BMP Converter</a></li> <li><a href="https://codebeautify.org/png-to-gif-converter">PNG to GIF Converter</a></li> </ul> </div> </div> </div> <div class="span12 footerLinkDiv"> <div class="center"> <a class="footermenu1" href="https://goo.gl/1oWmPe" target="_blank" title="Buy us a Coffee">Buy us a Coffee</a> <a class="footermenu1" href="https://jsonformatter.org/" target="_blank" title="JSON Formatter">JSON Formatter</a> <a class="footermenu1" href="https://codebeautify.org/faq">FAQ</a> <a class="footermenu1" href="https://codebeautify.org/policy">Privacy Policy</a> <a class="footermenu1" href="https://codebeautify.org/aboutus">About</a> <a class="footermenu1" href="https://codebeautify.org/contactus">Contact</a> <a class="footermenu1" href="https://codebeautify.org/history">History</a> <a class="footermenu1" href="https://codebeautify.org/sitemap">Sitemap</a> <a class="footermenu1" href="https://codebeautify.org/where-am-i-right-now">Where am I right now?</a> <a class="footermenu1" href="https://codeblogmoney.com/" rel="noopener">Blog</a> </div> </div> <div class="span12 footerLinkDiv"> <div class="center"> <br> <span class="class=" footermenu1"=""><b> Copyright  CodeBeautify 2021 | v5.0 </b> </span> <br> </div> </div> </div> <p id="back-top" style="display: none;"> <a href="https://codebeautify.org/hex-to-pantone-converter#top" title="Scroll to Top"><i class="icon-arrow-up2"></i></a> </p> </div> <input id="fTitle" type="hidden" value="HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color"> <input id="loginWith" type="hidden" value=""> <div id="openError" class="hide"> </div> <div id="loadUrlPathDiv" class="hide"> <input type="text" id="path" class="urlPath" placeholder="Paste your url"> <a href="https://codebeautify.org/hex-to-pantone-converter#" id="sampleurlindialog">Sample URL</a> </div>  <div id="savedialog" class="hide"> <input type="hidden" id="edit_link_id" value=""> <table> <tbody><tr> <td>Title</td> <td><input type="text" maxlength="60" id="save_link_title" value=""></td> </tr> <tr> <td>Description</td> <td><textarea id="save_link_description" placeholder="optional"></textarea></td> </tr> <tr> <td>Tags</td> <td><textarea id="save_link_tags" placeholder="optional"></textarea></td> </tr> </tbody></table> <p>By clicking the "Save Online" button you agree to our <a href="javascript:void(0);" style="color: #0088cc" onclick="document.getElementById(&#39;saveDisclaimer&#39;).style.display=&#39;block&#39;;">terms and conditions</a>.</p> <div id="saveDisclaimer" style="display: none;"> <p>All code in shared files are supplied by users, and belongs to the poster.</p> <p>All shared files are made public. No license is enforced.</p> <p>Any code can be removed without warning (if it is deemed offensive, damaging or for any other reason).</p> <p>codebeautify.org are not responsible or liable for any loss or damage of any kind during the usage of provided code.</p> </div> </div> <div id="gdriveDialog" class="hide"> <div id="savetodrive-div"></div> </div> <div style="display: none" id="exportToExcelDiv"> </div>  <div class="mpa-sc mpa-plugin-article-gatherer mpa-new mpa-rootsc" data-z="100" style="display: block;" id="mpa-rootsc-article-gatherer"></div><div class="mpa-sc mpa-plugin-image-gatherer mpa-new mpa-rootsc" data-z="100" style="display: block;" id="mpa-rootsc-image-gatherer"></div><div class="mpa-sc mpa-plugin-page-clipper mpa-new mpa-rootsc" data-z="100" style="display: block;" id="mpa-rootsc-page-clipper"></div><div class="mpa-sc mpa-plugin-text-gatherer mpa-new mpa-rootsc" data-z="100" style="display: block;" id="mpa-rootsc-text-gatherer"></div><div class="mpa-sc mpa-plugin-video-gatherer mpa-new mpa-rootsc" data-z="100" style="display: block;" id="mpa-rootsc-video-gatherer"></div><div class="mpa-sc mpa-plugin-side-function-panel mpa-new mpa-rootsc" data-z="110" style="display: block;" id="mpa-rootsc-side-function-panel"></div><div class="mpa-sc mpa-plugin-notifier mpa-new mpa-rootsc" data-z="120" style="display: block;" id="mpa-rootsc-notifier"></div><div class="mpa-sc mpa-plugin-notification-manager mpa-new mpa-rootsc" data-z="130" style="display: block;" id="mpa-rootsc-notification-manager"></div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/translate_24dp.png" width="20" height="20" alt="Google Translate"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Original text</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Contribute a better translation</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" data-anchor-status="displayed" style="display: block; width: 100% !important; height: 95px !important; bottom: 0px; clear: none !important; float: none !important; left: 0px; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1; overflow: visible !important; padding: 0px !important; position: fixed; right: auto !important; top: auto !important; vertical-align: baseline !important; visibility: visible !important; z-index: 2147483647; background: rgb(250, 250, 250) !important;" data-ad-status="filled" data-anchor-shown="true"><ins class="ee" style="inset: auto !important; clear: none !important; display: block !important; float: none !important; height: 5px !important; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; padding: 0px !important; position: relative !important; vertical-align: baseline !important; visibility: visible !important; width: auto !important; z-index: 1 !important; background-color: rgb(250, 250, 250) !important; box-shadow: rgba(0, 0, 0, 0.2) 0px -1px 5px -1px, rgba(0, 0, 0, 0.1) 0px 1px 2px -1px !important;"><span style="display: block !important; width: 80px !important; height: 45px !important; bottom: 0px !important; left: 0% !important; pointer-events: none !important;"><svg style="margin: 0px !important; position: absolute !important; bottom: 0px !important; left: 0% !important; display: block !important; width: 80px !important; height: 30px !important; transform: none !important; pointer-events: initial !important;"><defs><filter id="dropShadowTop" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><fecomponenttransfer in="SourceAlpha" result="TransferredAlpha"><fefuncr type="discrete" tableValues="0.5"></fefuncr><fefuncg type="discrete" tableValues="0.5"></fefuncg><fefuncb type="discrete" tableValues="0.5"></fefuncb></fecomponenttransfer><fegaussianblur in="TransferredAlpha" stdDeviation="2"></fegaussianblur><feoffset dx="0" dy="0" result="offsetblur"></feoffset><femerge><femergenode></femergenode><femergenode in="SourceGraphic"></femergenode></femerge></filter></defs><path d="M0,26 L0,6 A6,6 0 0,1 6,1 L50,1 A6,6 0 0,1 56,6 L56,20 A6,6 0 0,0 62,26 Z" stroke="#FAFAFA" stroke-width="1" fill="#FAFAFA" style="filter: url(&quot;#dropShadowTop&quot;);"></path><rect x="0" y="25" width="80" height="5" style="fill: rgb(250, 250, 250);"></rect><g class="down" stroke="#616161" stroke-width="2px" stroke-linecap="square"><line x1="22" y1="12" x2="28" y2="18"></line><line x1="28" y1="18" x2="34" y2="12"></line></g></svg></span></ins><ins id="aswift_5_expand" tabindex="0" title="Advertisement" aria-label="Advertisement" style="border: none !important; height: 90px !important; width: 100% !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: inline-table !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;"><ins id="aswift_5_anchor" style="border: none !important; height: 90px !important; width: 100% !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: block !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;"><iframe id="aswift_5" name="" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="1005" height="90" frameborder="0" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/zrt_lookup.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!6" data-google-query-id="CLSm-fjrkvQCFZNCvAodl0gHjQ" style="display: block; margin: 0px auto;" data-load-complete="true"></iframe></ins></ins></ins><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div><iframe src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/saved_resource(1).html" style="display: none;"></iframe><div id="gtx-trans" style="position: absolute; left: 981px; top: 1789px;"><div class="gtx-trans-icon"></div></div><div class="xl-chrome-ext-bar" id="xl_chrome_ext_{4DB361DE-01F7-4376-B494-639E489D19ED}" style="display: none;">      <div class="xl-chrome-ext-bar__logo"></div>      <a id="xl_chrome_ext_download" href="javascript:;" class="xl-chrome-ext-bar__option"></a>      <a id="xl_chrome_ext_close" href="javascript:;" class="xl-chrome-ext-bar__close"></a>    </div></body><iframe id="google_esf" name="google_esf" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/zrt_lookup(1).html" style="display: none;"></iframe><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important; width: 100vw !important; height: 100vh !important; inset: 0px auto auto 0px !important; clear: none !important; float: none !important; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; padding: 0px !important; position: fixed !important; vertical-align: baseline !important; visibility: visible !important; z-index: 2147483647 !important; background: transparent !important;" aria-hidden="true" data-ad-status="filled" data-vignette-loaded="true"><ins id="aswift_4_expand" tabindex="0" title="Advertisement" aria-label="Advertisement" style="border: none !important; height: 100vh !important; width: 100vw !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: inline-table !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;"><ins id="aswift_4_anchor" style="border: none !important; height: 100vh !important; width: 100vw !important; margin: 0px !important; padding: 0px !important; position: relative !important; visibility: visible !important; background-color: transparent !important; display: block !important; inset: auto !important; clear: none !important; float: none !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; vertical-align: baseline !important; z-index: auto !important;"><iframe id="aswift_4" name="" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" width="" height="" frameborder="0" src="./HEX to Pantone - Best Online Tool to Convert HEX Color to Pantone Color_files/zrt_lookup(2).html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" data-google-container-id="a!5" data-google-query-id="CLOm-fjrkvQCFZNCvAodl0gHjQ" data-load-complete="true" style="width: 100vw !important; height: 100vh !important; inset: 0px auto auto 0px !important; position: absolute !important; clear: none !important; display: inline !important; float: none !important; margin: 0px !important; max-height: none !important; max-width: none !important; opacity: 1 !important; overflow: visible !important; padding: 0px !important; vertical-align: baseline !important; visibility: visible !important; z-index: auto !important;"></iframe></ins></ins></ins></html>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>VulkanWindows</title>
    <link href="https://www.yangshuohao.com/posts/61b90d80.html"/>
    <id>https://www.yangshuohao.com/posts/61b90d80.html</id>
    <published>2021-09-11T01:55:27.000Z</published>
    <updated>2021-09-19T07:55:22.002Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="1-Vulkan-SDK"><a href="#1-Vulkan-SDK" class="headerlink" title="1.Vulkan SDK"></a>1.Vulkan SDK</h1><p> Vulkan  SDK Vulkan  OpenGL  GLEW - <br> <a href="https://vulkan.lunarg.com/">LunarG</a>  SDK     </p><p><img src="https://img-blog.csdnimg.cn/df92c24d6acf454cb21ff9ed55110192.png" alt=""><br><img src="https://img-blog.csdnimg.cn/1eef8f962e1d40b4ad06f90ce8b67ec1.png" alt="">   </p><p>SDK</p><p><img src="https://img-blog.csdnimg.cn/19ab74435db44b24ad6812e3fb491fbd.png" alt="">    </p><p> VulkanSDKBinvkcube.exedemo</p><p><img src="https://img-blog.csdnimg.cn/7fe287dcb72c49cfbf852209d12d17b2.gif#pic_center" alt=""></p><p> Vulkan </p><h1 id="glm"><a href="#glm" class="headerlink" title="glm"></a>glm</h1><p><a href="https://github.com/g-truc/glm/releases">glm</a><br><img src="https://img-blog.csdnimg.cn/6212207b028d411280564ae68d412d8b.png" alt=""></p><h1 id="GLFW"><a href="#GLFW" class="headerlink" title="GLFW"></a>GLFW</h1><p><a href="https://www.glfw.org/download.html">GLFW</a><br><img src="https://img-blog.csdnimg.cn/b2c70882565f4bd1a9fa29af9edb7e05.png" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>VS2019C++Main.cpp</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p><br>C/C++GeneralVulkanglfwglm</p><p><img src="https://img-blog.csdnimg.cn/c69d9998fc4d431ea9f474382370c3cb.png" alt=""></p><p>LinkerGeneralVulkanglfw</p><p><img src="https://img-blog.csdnimg.cn/635eceeda4444a48ae5ab9b152f30c91.png" alt=""></p><p>LinkerInputvulkan-1.libglfw3.lib</p><p><img src="https://img-blog.csdnimg.cn/8353662194474378980dabb0e00ee2f9.png" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>VulkanMain.cpp</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GLFW_INCLUDE_VULKAN</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;GLFW/glfw3.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GLM_FORCE_RADIANS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GLM_FORCE_DEPTH_ZERO_TO_ONE</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/vec4.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/mat4x4.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">glfwInit</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">glfwWindowHint</span>(GLFW_CLIENT_API, GLFW_NO_API);</span><br><span class="line">    GLFWwindow* window = <span class="built_in">glfwCreateWindow</span>(<span class="number">800</span>, <span class="number">600</span>, <span class="string">&quot;Vulkan window&quot;</span>, <span class="literal">nullptr</span>, <span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">uint32_t</span> extensionCount = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">vkEnumerateInstanceExtensionProperties</span>(<span class="literal">nullptr</span>, &amp;extensionCount, <span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; extensionCount &lt;&lt; <span class="string">&quot; extensions supported\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    glm::mat4 matrix;</span><br><span class="line">    glm::vec4 vec;</span><br><span class="line">    <span class="keyword">auto</span> test = matrix * vec;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!<span class="built_in">glfwWindowShouldClose</span>(window)) &#123;</span><br><span class="line">        <span class="built_in">glfwPollEvents</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">glfwDestroyWindow</span>(window);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">glfwTerminate</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img src="https://img-blog.csdnimg.cn/7e0f179f7a5441f593a6e998c5279303.png" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="Vulkan" scheme="https://www.yangshuohao.com/categories/Vulkan/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>CMake</title>
    <link href="https://www.yangshuohao.com/posts/1a358483.html"/>
    <id>https://www.yangshuohao.com/posts/1a358483.html</id>
    <published>2021-09-02T16:30:45.000Z</published>
    <updated>2021-09-19T07:55:22.004Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="-2-"><a href="#-2-" class="headerlink" title=" 2 "></a> 2 </h1><p><br>MathFunctions  MathFunctions.hmysqrt.cxxmysqrtsqrt<br>MathFunctions CMakeLists.txt</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">add_library</span>(MathFunctions mysqrt.cxx)</span><br></pre></td></tr></table></figure><p>CMakeLists.txt add_subdirectory() MathFunctionsmysqrt.hCMakeLists.txt</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># add the MathFunctions library</span></span><br><span class="line"><span class="built_in">add_subdirectory</span>(MathFunctions)</span><br><span class="line"></span><br><span class="line"><span class="meta"># add the executable</span></span><br><span class="line"><span class="built_in">add_executable</span>(Tutorial tutorial.cxx)</span><br><span class="line"></span><br><span class="line"><span class="built_in">target_link_libraries</span>(Tutorial PUBLIC MathFunctions)</span><br><span class="line"></span><br><span class="line"><span class="meta"># add the binary tree to the search path for <span class="meta-keyword">include</span> files</span></span><br><span class="line"><span class="meta"># so that we will find TutorialConfig.h</span></span><br><span class="line"><span class="built_in">target_include_directories</span>(Tutorial PUBLIC</span><br><span class="line">                          <span class="string">&quot;$&#123;PROJECT_BINARY_DIR&#125;&quot;</span></span><br><span class="line">                          <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/MathFunctions&quot;</span></span><br><span class="line">                          )</span><br></pre></td></tr></table></figure><p>MathFunctionsCMakeLists.txt </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">option</span>(USE_MYMATH <span class="string">&quot;Use tutorial provided math implementation&quot;</span> ON)</span><br><span class="line"></span><br><span class="line"><span class="meta"># configure a header file to pass some of the CMake settings</span></span><br><span class="line"><span class="meta"># to the source code</span></span><br><span class="line"><span class="built_in">configure_file</span>(TutorialConfig.h.in TutorialConfig.h)</span><br></pre></td></tr></table></figure><p> cmake-gui  ccmakeON CMake <br>MathFunctionsCMakeLists.txt </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(USE_MYMATH)</span><br><span class="line">  <span class="built_in">add_subdirectory</span>(MathFunctions)</span><br><span class="line">  <span class="built_in">list</span>(APPEND EXTRA_LIBS MathFunctions)</span><br><span class="line">  <span class="built_in">list</span>(APPEND EXTRA_INCLUDES <span class="string">&quot;$&#123;PROJECT_SOURCE_DIR&#125;/MathFunctions&quot;</span>)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="meta"># add the executable</span></span><br><span class="line"><span class="built_in">add_executable</span>(Tutorial tutorial.cxx)</span><br><span class="line"></span><br><span class="line"><span class="built_in">target_link_libraries</span>(Tutorial PUBLIC $&#123;EXTRA_LIBS&#125;)</span><br><span class="line"></span><br><span class="line"><span class="meta"># add the binary tree to the search path for <span class="meta-keyword">include</span> files</span></span><br><span class="line"><span class="meta"># so that we will find TutorialConfig.h</span></span><br><span class="line"><span class="built_in">target_include_directories</span>(Tutorial PUBLIC</span><br><span class="line">                           <span class="string">&quot;$&#123;PROJECT_BINARY_DIR&#125;&quot;</span></span><br><span class="line">                           $&#123;EXTRA_INCLUDES&#125;</span><br><span class="line">                           )</span><br></pre></td></tr></table></figure><p>EXTRA_LIBSEXTRA_INCLUDES<br>tutorial.cxxMathFunctions.h</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> USE_MYMATH</span></span><br><span class="line"><span class="meta">#  <span class="meta-keyword">include</span> <span class="meta-string">&quot;MathFunctions.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>tutorial.cxxUSE_MYMATH</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> USE_MYMATH</span></span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">double</span> outputValue = <span class="built_in">mysqrt</span>(inputValue);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">double</span> outputValue = <span class="built_in">sqrt</span>(inputValue);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>USE_MYMATHTutorialConfig.h.in </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#cmakedefine USE_MYMATH</span></span><br></pre></td></tr></table></figure><p>TutorialConfig.h.inUSE_MYMATH<br>cmake  cmake-gui<br><br><img src="https://img-blog.csdnimg.cn/e8632c1478e146daa98a0fbb8367518b.png" alt=""></p><p>USE_MYMATH cmake-gui  ccmake</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake ../Step2 -DUSE_MYMATH=OFF</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/d811c86f080e44c8859e3298d4aa0470.png" alt=""></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="CMake" scheme="https://www.yangshuohao.com/categories/CMake/"/>
    
    
    <category term="CMake" scheme="https://www.yangshuohao.com/tags/CMake/"/>
    
  </entry>
  
  <entry>
    <title>CMake</title>
    <link href="https://www.yangshuohao.com/posts/f804f4fc.html"/>
    <id>https://www.yangshuohao.com/posts/f804f4fc.html</id>
    <published>2021-09-01T14:59:55.000Z</published>
    <updated>2021-09-19T07:55:22.003Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>CMakeLists.txtStep1 CMakeLists.txt</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta"># set the project name</span></span><br><span class="line"><span class="built_in">project</span>(Tutorial)</span><br><span class="line"></span><br><span class="line"><span class="meta"># add the executable</span></span><br><span class="line"><span class="built_in">add_executable</span>(Tutorial tutorial.cxx)</span><br></pre></td></tr></table></figure><p>CMakeLists.txtCMake tutorial.cxxStep1</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p> CMakeLists.txt</p><p>CMakeLists.txtproject() </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta"># set the project name and version</span></span><br><span class="line"><span class="built_in">project</span>(Tutorial VERSION <span class="number">1.0</span>)</span><br></pre></td></tr></table></figure><p></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">configure_file</span>(TutorialConfig.h.in TutorialConfig.h)</span><br></pre></td></tr></table></figure><p>CMakeLists.txt</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">target_include_directories</span>(Tutorial PUBLIC</span><br><span class="line">                           <span class="string">&quot;$&#123;PROJECT_BINARY_DIR&#125;&quot;</span></span><br><span class="line">                           )</span><br></pre></td></tr></table></figure><p>Step1TutorialConfig.h.in</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// the configured options and settings for Tutorial</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Tutorial_VERSION_MAJOR @Tutorial_VERSION_MAJOR@</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Tutorial_VERSION_MINOR @Tutorial_VERSION_MINOR@</span></span><br></pre></td></tr></table></figure><p> CMake @Tutorial_VERSION_MAJOR@@Tutorial_VERSION_MINOR@</p><p>tutorial.cxx TutorialConfig.h.</p><p> tutorial.cxx</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (argc &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// report version</span></span><br><span class="line">    std::cout &lt;&lt; argv[<span class="number">0</span>] &lt;&lt; <span class="string">&quot; Version &quot;</span> &lt;&lt; Tutorial_VERSION_MAJOR &lt;&lt; <span class="string">&quot;.&quot;</span></span><br><span class="line">              &lt;&lt; Tutorial_VERSION_MINOR &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Usage: &quot;</span> &lt;&lt; argv[<span class="number">0</span>] &lt;&lt; <span class="string">&quot; number&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="-C-"><a href="#-C-" class="headerlink" title=" C++ "></a> C++ </h2><p>tutorial.cxxatof std::stodin C++11  .#include <cstdlib></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> inputValue = std::<span class="built_in">stod</span>(argv[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure><p> CMake  CMake  C++ CMAKE_CXX_STANDARDCMakeLists.txtCMAKE_CXX_STANDARD11CMAKE_CXX_STANDARD_REQUIRED TrueCMAKE_CXX_STANDARDadd_executable</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta"># set the project name and version</span></span><br><span class="line"><span class="built_in">project</span>(Tutorial VERSION <span class="number">1.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta"># specify the C++ standard</span></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">11</span>)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED True)</span><br></pre></td></tr></table></figure><p>CMakeLists.txt</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.10</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta"># set the project name and version</span></span><br><span class="line"><span class="built_in">project</span>(Tutorial VERSION <span class="number">1.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta"># specify the C++ standard</span></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">11</span>)</span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED True)</span><br><span class="line"></span><br><span class="line"><span class="meta"># add the executable</span></span><br><span class="line"><span class="built_in">add_executable</span>(Tutorial tutorial.cxx)</span><br><span class="line"></span><br><span class="line"><span class="built_in">configure_file</span>(TutorialConfig.h.in TutorialConfig.h)</span><br><span class="line"></span><br><span class="line"><span class="built_in">target_include_directories</span>(Tutorial PUBLIC</span><br><span class="line">                           <span class="string">&quot;$&#123;PROJECT_BINARY_DIR&#125;&quot;</span></span><br><span class="line">                           )</span><br></pre></td></tr></table></figure><p>tutorial.cxx</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A simple program that computes the square root of a number</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;TutorialConfig.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">if</span> (argc &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// report version</span></span><br><span class="line">    std::cout &lt;&lt; argv[<span class="number">0</span>] &lt;&lt; <span class="string">&quot; Version &quot;</span> &lt;&lt; Tutorial_VERSION_MAJOR &lt;&lt; <span class="string">&quot;.&quot;</span></span><br><span class="line">              &lt;&lt; Tutorial_VERSION_MINOR &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Usage: &quot;</span> &lt;&lt; argv[<span class="number">0</span>] &lt;&lt; <span class="string">&quot; number&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// convert input to double</span></span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">double</span> inputValue = std::<span class="built_in">stod</span>(argv[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// calculate square root</span></span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">double</span> outputValue = <span class="built_in">sqrt</span>(inputValue);</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;The square root of &quot;</span> &lt;&lt; inputValue &lt;&lt; <span class="string">&quot; is &quot;</span> &lt;&lt; outputValue</span><br><span class="line">            &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>TutorialConfig.h.in</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// the configured options and settings for Tutorial</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Tutorial_VERSION_MAJOR @Tutorial_VERSION_MAJOR@</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Tutorial_VERSION_MINOR @Tutorial_VERSION_MINOR@</span></span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>cmake  cmake-gui </p><p> Help/guide/tutorial</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir Step1_build</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/721d3be2bf264042bd8973e3838527f0.png" alt=""></p><p> CMake </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Step1_build</span><br><span class="line">cmake ../Step1</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/73d242c110714789b7277f02cb9fdd9c.png" alt=""></p><p>/</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake --build .</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/5b233debe95f48bbbf7c60ac1da08849.png" alt="">    </p><p>   </p><p><img src="https://img-blog.csdnimg.cn/2666c3cc25974fc2b7fa8b9eeda477d8.png" alt="">   </p><p></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="CMake" scheme="https://www.yangshuohao.com/categories/CMake/"/>
    
    
    <category term="CMake" scheme="https://www.yangshuohao.com/tags/CMake/"/>
    
  </entry>
  
  <entry>
    <title>CMake</title>
    <link href="https://www.yangshuohao.com/posts/6bf9eb63.html"/>
    <id>https://www.yangshuohao.com/posts/6bf9eb63.html</id>
    <published>2021-09-01T14:51:02.000Z</published>
    <updated>2021-09-19T07:55:22.002Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="CMake"><a href="#CMake" class="headerlink" title="CMake"></a>CMake</h1><p><a href="https://yangshuohao.blog.csdn.net/article/details/110684418">CMake</a></p><h1 id="CMake"><a href="#CMake" class="headerlink" title="CMake"></a>CMake</h1><p><a href="https://cmake.org/download/"></a><br>CMakeCMakeCMakeCMake    </p><p><img src="https://img-blog.csdnimg.cn/5d21e3149b1f4abfbc38ae2b476343ce.png" alt=""></p><h1 id="CMake-"><a href="#CMake-" class="headerlink" title="CMake "></a>CMake </h1><p>Cmake\cmake-3.21.2\Help\guide\tutorial</p><p><img src="https://img-blog.csdnimg.cn/d38b1aa5e69f40fe94585fc4dcde6ac3.png" alt=""><br>12</p><blockquote><ol><li><a href="http://localhost:4000/2021/09/01/%E8%B6%85%E8%AF%A6%E7%BB%86%E8%B6%85%E5%85%A8CMake%E6%95%99%E7%A8%8B%EF%BC%9A%E7%AC%AC%E4%B8%80%E6%AD%A5/">CMake</a></li><li></li></ol></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="CMake" scheme="https://www.yangshuohao.com/categories/CMake/"/>
    
    
    <category term="CMake" scheme="https://www.yangshuohao.com/tags/CMake/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/d388f3d0.html"/>
    <id>https://www.yangshuohao.com/posts/d388f3d0.html</id>
    <published>2021-08-28T07:48:55.000Z</published>
    <updated>2021-09-19T07:55:21.998Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><blockquote><p><a href="https://yangshuohao.com/2021/08/23/%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%9A%E9%A1%B9%E7%9B%AE%E8%AE%BE%E7%BD%AE/"></a><br><a href="https://yangshuohao.com/2021/08/24/%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%9A%E7%94%BB%E7%BA%BF/"></a><br><a href="https://yangshuohao.com/2021/08/25/%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%9A%E5%A1%AB%E5%85%85%E4%B8%89%E8%A7%92%E5%BD%A2/"></a><br><a href="https://yangshuohao.com/2021/08/26/%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%9A%E5%AF%B9%E4%B8%89%E8%A7%92%E5%BD%A2%E7%9D%80%E8%89%B2/"></a><br><a href="https://yangshuohao.com/2021/08/26/%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%9A%E5%9D%90%E6%A0%87%E5%8F%98%E6%8D%A2/"></a><br><a href="https://yangshuohao.com/2021/08/27/%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%9A%E6%B8%B2%E6%9F%93%E4%B8%80%E4%B8%AA%E5%9C%BA%E6%99%AF/"></a><br><a href="https://yangshuohao.com/2021/08/28/%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%EF%BC%9A%E6%B7%B1%E5%BA%A6%E7%BC%93%E5%AD%98/"></a><br><br><br><br><br><br><br><br><br></p></blockquote><p><img src="https://img-blog.csdnimg.cn/f295de9b80be4f319e90d048c88010b5.gif#pic_center" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><blockquote><p><br><a href="https://github.com/yang-shuohao/Renderer"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%85%89%E6%A0%85%E5%8C%96/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B8%B2%E6%9F%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/6255f48c.html"/>
    <id>https://www.yangshuohao.com/posts/6255f48c.html</id>
    <published>2021-08-28T01:36:47.000Z</published>
    <updated>2021-09-19T07:55:22.005Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>z buffer</p><h1 id="z"><a href="#z" class="headerlink" title="z"></a>z</h1><p>ZZ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenWidth 800</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenHeight 600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//z</span></span><br><span class="line">std::vector&lt;std::vector&lt;<span class="keyword">float</span>&gt;&gt; DepthBuffer;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec4 position;</span><br><span class="line"><span class="keyword">float</span> color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Triangle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 index;</span><br><span class="line">COLORREF color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">std::string name;</span><br><span class="line">std::vector&lt;Vertex&gt; vertices;</span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span>  <span class="title">Transform</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 translate;</span><br><span class="line">glm::vec4 rotation;</span><br><span class="line">glm::vec3 scale3D;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Instance</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Model model;</span><br><span class="line">Transform transform;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Scene</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">std::vector&lt;Instance&gt; instances;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1) &lt; <span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x - P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y - P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x, P0.y, P1.x, P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x - P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line"><span class="comment">//Sleep(1);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawWireframeTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawLine</span>(P0, P1, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P1, P2, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P2, P0, color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFilledTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// P0.position.y &lt;= P1.position.y &lt;= P2.position.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line"><span class="comment">//P0P1z</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.z, P1.position.y, P1.position.z);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line"><span class="comment">//P1P2z</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.z, P2.position.y, P2.position.z);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line"><span class="comment">//P0P2z</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.z, P2.position.y, P2.position.z);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> mx = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"><span class="keyword">if</span> (x02[mx] &lt; x012[mx])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">z01.<span class="built_in">insert</span>(z01.<span class="built_in">end</span>(), z12.<span class="built_in">begin</span>(), z12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">z012</span><span class="params">(z01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> mz = glm::<span class="built_in">floor</span>(z012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z_right;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (z02[mz] &lt; z012[mz])</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">z_left = z02;</span><br><span class="line">z_right = z012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">z_left = z012;</span><br><span class="line">z_right = z02;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y;y &lt; P2.position.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> z = z_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y];x &lt; x_right[y - P0.position.y];x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (z &lt; DepthBuffer[x][y])</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">DepthBuffer[x][y] = z;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Sleep(1);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::vec4 <span class="title">ApplyTransform</span><span class="params">(glm::vec4 pos, Transform transform)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), transform.scale3D);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(transform.rotation.z), glm::<span class="built_in">vec3</span>(transform.rotation));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), transform.translate);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model = tm * rm * sm;</span><br><span class="line"><span class="keyword">return</span> model * pos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawShadedTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">BYTE r = <span class="built_in">GetRValue</span>(color);</span><br><span class="line">BYTE g = <span class="built_in">GetGValue</span>(color);</span><br><span class="line">BYTE b = <span class="built_in">GetBValue</span>(color);</span><br><span class="line"></span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P1.position.y, P1.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line">h01.<span class="built_in">insert</span>(h01.<span class="built_in">end</span>(), h12.<span class="built_in">begin</span>(), h12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">h012</span><span class="params">(h01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line"></span><br><span class="line">h_left = h02;</span><br><span class="line">h_right = h012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line"></span><br><span class="line">h_left = h012;</span><br><span class="line">h_right = h02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y; y &lt; P2.position.y; y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> x_l = x_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">float</span> x_r = x_right[y - P0.position.y];</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_segment = <span class="built_in">Interpolate</span>(x_l, h_left[y - P0.position.y], x_r, h_right[y - P0.position.y]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y]; x &lt; x_right[y - P0.position.y]; x++)</span><br><span class="line">&#123;</span><br><span class="line">COLORREF shaded_color = <span class="built_in">RGB</span>(r * h_segment[x - x_l], g * h_segment[x - x_l], b * h_segment[x - x_l]);</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, shaded_color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderTriangle</span><span class="params">(Triangle triangle, std::vector&lt;Vertex&gt; vertices)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawFilledTriangle</span>(vertices[triangle.index.x],</span><br><span class="line">vertices[triangle.index.y],</span><br><span class="line">vertices[triangle.index.z],</span><br><span class="line">triangle.color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderObject</span><span class="params">(std::vector&lt;Vertex&gt; vertices, std::vector&lt;Triangle&gt; triangles)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; triangles.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(triangles[i], vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderInstance</span><span class="params">(Instance instances)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Model model = instances.model;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; model.vertices.<span class="built_in">size</span>();i++)</span><br><span class="line">&#123;</span><br><span class="line">model.vertices[i].position = <span class="built_in">ApplyTransform</span>(model.vertices[i].position, instances.transform);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; model.triangles.<span class="built_in">size</span>();j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(model.triangles[j], model.vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderScene</span><span class="params">(Scene s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.instances.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderInstance</span>(s.instances[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetModel</span><span class="params">(glm::vec3 s = &#123; <span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span> &#125;, glm::vec4 r = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">45.0f</span> &#125;, glm::vec3 t = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span> &#125;)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), s);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(r.w), glm::<span class="built_in">vec3</span>(r));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), t);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">return</span> tm * rm * sm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetView</span><span class="params">(glm::vec3 eye=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),glm::vec3 center=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),glm::vec3 up=glm::vec3(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">lookAt</span>(eye, center, up);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetPerspective</span><span class="params">(<span class="keyword">float</span> fov=glm::radians(<span class="number">90.0f</span>),<span class="keyword">float</span> aspect= ScreenWidth/ScreenHeight,<span class="keyword">float</span> n=<span class="number">0.1f</span>,<span class="keyword">float</span> f=<span class="number">100.0f</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">perspective</span>(fov, aspect, n, f);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetMVP</span><span class="params">(glm::mat4 model, glm::mat4 view, glm::mat4 perspective)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> perspective * view * model;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">initgraph</span>(ScreenWidth, ScreenHeight);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line">DepthBuffer.<span class="built_in">resize</span>(ScreenWidth);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ScreenWidth;i++)</span><br><span class="line">&#123;</span><br><span class="line">DepthBuffer[i].<span class="built_in">resize</span>(ScreenHeight);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ScreenWidth;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; ScreenHeight;j++)</span><br><span class="line">&#123;</span><br><span class="line">DepthBuffer[i][j] = <span class="number">100.0f</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::vector&lt;Vertex&gt; Vertices;</span><br><span class="line">Vertices.<span class="built_in">resize</span>(<span class="number">8</span>);</span><br><span class="line">Vertices[<span class="number">0</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">1</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">2</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">3</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">4</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">5</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">6</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">7</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Vertices[<span class="number">0</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">1</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">2</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">3</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">4</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">5</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">6</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">7</span>].color = <span class="number">1.0f</span>;</span><br><span class="line"></span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">triangles.<span class="built_in">resize</span>(<span class="number">12</span>);</span><br><span class="line">triangles[<span class="number">0</span>].index = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">0</span>].color = RED;</span><br><span class="line">triangles[<span class="number">1</span>].index = &#123; <span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">1</span>].color = RED;</span><br><span class="line">triangles[<span class="number">2</span>].index = &#123; <span class="number">4</span>,<span class="number">0</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">2</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">3</span>].index = &#123; <span class="number">4</span>,<span class="number">3</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">3</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">4</span>].index = &#123; <span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">4</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">5</span>].index = &#123; <span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">5</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">6</span>].index = &#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">6</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">7</span>].index = &#123; <span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">7</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">8</span>].index = &#123; <span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span> &#125;;</span><br><span class="line">triangles[<span class="number">8</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">9</span>].index = &#123; <span class="number">4</span>,<span class="number">1</span>,<span class="number">0</span> &#125;;</span><br><span class="line">triangles[<span class="number">9</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">10</span>].index = &#123; <span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">10</span>].color = CYAN;</span><br><span class="line">triangles[<span class="number">11</span>].index = &#123; <span class="number">2</span>,<span class="number">7</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">11</span>].color = CYAN;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model =<span class="built_in">GetModel</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 view = <span class="built_in">GetView</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 perspective =<span class="built_in">GetPerspective</span>();</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">glm::mat4 mvp = <span class="built_in">GetMVP</span>(model,view,perspective);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Vertices.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">Vertices[i].position = mvp * Vertices[i].position;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">float</span> reciprocalW = <span class="number">1</span> / Vertices[i].position.w;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Vertices[i].position.x = (Vertices[i].position.x * reciprocalW + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">Vertices[i].position.y = (<span class="number">1.0f</span> - Vertices[i].position.y * reciprocalW) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Scene s;</span><br><span class="line">Instance instance1;</span><br><span class="line">instance1.model.name = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">instance1.model.vertices = Vertices;</span><br><span class="line">instance1.model.triangles = triangles;</span><br><span class="line">instance1.transform.translate = &#123; <span class="number">30</span>,<span class="number">0</span>,<span class="number">1</span> &#125;;</span><br><span class="line">instance1.transform.rotation = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">60.0f</span> &#125;;</span><br><span class="line">instance1.transform.scale3D = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Instance instance2;</span><br><span class="line">instance2.model.name = <span class="string">&quot;2&quot;</span>;</span><br><span class="line">instance2.model.vertices = Vertices;</span><br><span class="line">instance2.model.triangles = triangles;</span><br><span class="line">instance2.transform.translate = &#123; <span class="number">-30</span>,<span class="number">0</span>,<span class="number">1</span> &#125;;</span><br><span class="line">instance2.transform.rotation = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">60.0f</span> &#125;;</span><br><span class="line">instance2.transform.scale3D = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">s.instances.<span class="built_in">push_back</span>(instance1);</span><br><span class="line">s.instances.<span class="built_in">push_back</span>(instance2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">RenderScene</span>(s);</span><br><span class="line"></span><br><span class="line">_getch();</span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>   </p><p><img src="https://img-blog.csdnimg.cn/c8d4985bf2f547ef91da65786f73853f.gif#pic_center" alt=""></p><h1 id="1-z"><a href="#1-z" class="headerlink" title="1/z"></a>1/z</h1><p>z1/z</p><blockquote><p><br><a href="https://developer.nvidia.com/content/depth-precision-visualized"></a><br><a href="https://learnopengl-cn.github.io/04%20Advanced%20OpenGL/01%20Depth%20testing/"></a></p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenWidth 800</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenHeight 600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//z</span></span><br><span class="line">std::vector&lt;std::vector&lt;<span class="keyword">float</span>&gt;&gt; DepthBuffer;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec4 position;</span><br><span class="line"><span class="keyword">float</span> color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Triangle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 index;</span><br><span class="line">COLORREF color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">std::string name;</span><br><span class="line">std::vector&lt;Vertex&gt; vertices;</span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span>  <span class="title">Transform</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 translate;</span><br><span class="line">glm::vec4 rotation;</span><br><span class="line">glm::vec3 scale3D;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Instance</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Model model;</span><br><span class="line">Transform transform;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Scene</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">std::vector&lt;Instance&gt; instances;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1) &lt; <span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x - P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y - P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x, P0.y, P1.x, P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x - P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line"><span class="comment">//Sleep(1);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawWireframeTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawLine</span>(P0, P1, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P1, P2, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P2, P0, color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFilledTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// P0.position.y &lt;= P1.position.y &lt;= P2.position.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line"><span class="comment">//P0P1z</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.z, P1.position.y, P1.position.z);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line"><span class="comment">//P1P2z</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.z, P2.position.y, P2.position.z);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line"><span class="comment">//P0P2z</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.z, P2.position.y, P2.position.z);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> mx = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"><span class="keyword">if</span> (x02[mx] &lt; x012[mx])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">z01.<span class="built_in">insert</span>(z01.<span class="built_in">end</span>(), z12.<span class="built_in">begin</span>(), z12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">z012</span><span class="params">(z01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> mz = glm::<span class="built_in">floor</span>(z012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; z_right;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (z02[mz] &lt; z012[mz])</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">z_left = z02;</span><br><span class="line">z_right = z012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">z_left = z012;</span><br><span class="line">z_right = z02;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y;y &lt; P2.position.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> z = <span class="number">1</span>/z_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y];x &lt; x_right[y - P0.position.y];x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (z &gt; DepthBuffer[x][y])</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">DepthBuffer[x][y] = z;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Sleep</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::vec4 <span class="title">ApplyTransform</span><span class="params">(glm::vec4 pos, Transform transform)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), transform.scale3D);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(transform.rotation.z), glm::<span class="built_in">vec3</span>(transform.rotation));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), transform.translate);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model = tm * rm * sm;</span><br><span class="line"><span class="keyword">return</span> model * pos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawShadedTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">BYTE r = <span class="built_in">GetRValue</span>(color);</span><br><span class="line">BYTE g = <span class="built_in">GetGValue</span>(color);</span><br><span class="line">BYTE b = <span class="built_in">GetBValue</span>(color);</span><br><span class="line"></span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P1.position.y, P1.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line">h01.<span class="built_in">insert</span>(h01.<span class="built_in">end</span>(), h12.<span class="built_in">begin</span>(), h12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">h012</span><span class="params">(h01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line"></span><br><span class="line">h_left = h02;</span><br><span class="line">h_right = h012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line"></span><br><span class="line">h_left = h012;</span><br><span class="line">h_right = h02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y; y &lt; P2.position.y; y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> x_l = x_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">float</span> x_r = x_right[y - P0.position.y];</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_segment = <span class="built_in">Interpolate</span>(x_l, h_left[y - P0.position.y], x_r, h_right[y - P0.position.y]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y]; x &lt; x_right[y - P0.position.y]; x++)</span><br><span class="line">&#123;</span><br><span class="line">COLORREF shaded_color = <span class="built_in">RGB</span>(r * h_segment[x - x_l], g * h_segment[x - x_l], b * h_segment[x - x_l]);</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, shaded_color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderTriangle</span><span class="params">(Triangle triangle, std::vector&lt;Vertex&gt; vertices)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawFilledTriangle</span>(vertices[triangle.index.x],</span><br><span class="line">vertices[triangle.index.y],</span><br><span class="line">vertices[triangle.index.z],</span><br><span class="line">triangle.color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderObject</span><span class="params">(std::vector&lt;Vertex&gt; vertices, std::vector&lt;Triangle&gt; triangles)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; triangles.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(triangles[i], vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderInstance</span><span class="params">(Instance instances)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Model model = instances.model;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; model.vertices.<span class="built_in">size</span>();i++)</span><br><span class="line">&#123;</span><br><span class="line">model.vertices[i].position = <span class="built_in">ApplyTransform</span>(model.vertices[i].position, instances.transform);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; model.triangles.<span class="built_in">size</span>();j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(model.triangles[j], model.vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderScene</span><span class="params">(Scene s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.instances.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderInstance</span>(s.instances[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetModel</span><span class="params">(glm::vec3 s = &#123; <span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span> &#125;, glm::vec4 r = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">45.0f</span> &#125;, glm::vec3 t = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span> &#125;)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), s);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(r.w), glm::<span class="built_in">vec3</span>(r));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), t);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">return</span> tm * rm * sm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetView</span><span class="params">(glm::vec3 eye=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),glm::vec3 center=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),glm::vec3 up=glm::vec3(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">lookAt</span>(eye, center, up);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetPerspective</span><span class="params">(<span class="keyword">float</span> fov=glm::radians(<span class="number">90.0f</span>),<span class="keyword">float</span> aspect= ScreenWidth/ScreenHeight,<span class="keyword">float</span> n=<span class="number">0.1f</span>,<span class="keyword">float</span> f=<span class="number">100.0f</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">perspective</span>(fov, aspect, n, f);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetMVP</span><span class="params">(glm::mat4 model, glm::mat4 view, glm::mat4 perspective)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> perspective * view * model;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">initgraph</span>(ScreenWidth, ScreenHeight);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line">DepthBuffer.<span class="built_in">resize</span>(ScreenWidth);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ScreenWidth;i++)</span><br><span class="line">&#123;</span><br><span class="line">DepthBuffer[i].<span class="built_in">resize</span>(ScreenHeight);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;ScreenWidth;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; ScreenHeight;j++)</span><br><span class="line">&#123;</span><br><span class="line">DepthBuffer[i][j] = <span class="number">0.0f</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">std::vector&lt;Vertex&gt; Vertices;</span><br><span class="line">Vertices.<span class="built_in">resize</span>(<span class="number">8</span>);</span><br><span class="line">Vertices[<span class="number">0</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">1</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">2</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">3</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">4</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">5</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">6</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">7</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Vertices[<span class="number">0</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">1</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">2</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">3</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">4</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">5</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">6</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">7</span>].color = <span class="number">1.0f</span>;</span><br><span class="line"></span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">triangles.<span class="built_in">resize</span>(<span class="number">12</span>);</span><br><span class="line">triangles[<span class="number">0</span>].index = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">0</span>].color = RED;</span><br><span class="line">triangles[<span class="number">1</span>].index = &#123; <span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">1</span>].color = RED;</span><br><span class="line">triangles[<span class="number">2</span>].index = &#123; <span class="number">4</span>,<span class="number">0</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">2</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">3</span>].index = &#123; <span class="number">4</span>,<span class="number">3</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">3</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">4</span>].index = &#123; <span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">4</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">5</span>].index = &#123; <span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">5</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">6</span>].index = &#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">6</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">7</span>].index = &#123; <span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">7</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">8</span>].index = &#123; <span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span> &#125;;</span><br><span class="line">triangles[<span class="number">8</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">9</span>].index = &#123; <span class="number">4</span>,<span class="number">1</span>,<span class="number">0</span> &#125;;</span><br><span class="line">triangles[<span class="number">9</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">10</span>].index = &#123; <span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">10</span>].color = CYAN;</span><br><span class="line">triangles[<span class="number">11</span>].index = &#123; <span class="number">2</span>,<span class="number">7</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">11</span>].color = CYAN;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model =<span class="built_in">GetModel</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 view = <span class="built_in">GetView</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 perspective =<span class="built_in">GetPerspective</span>();</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">glm::mat4 mvp = <span class="built_in">GetMVP</span>(model,view,perspective);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Vertices.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">Vertices[i].position = mvp * Vertices[i].position;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">float</span> reciprocalW = <span class="number">1</span> / Vertices[i].position.w;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Vertices[i].position.x = (Vertices[i].position.x * reciprocalW + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">Vertices[i].position.y = (<span class="number">1.0f</span> - Vertices[i].position.y * reciprocalW) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Scene s;</span><br><span class="line">Instance instance1;</span><br><span class="line">instance1.model.name = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">instance1.model.vertices = Vertices;</span><br><span class="line">instance1.model.triangles = triangles;</span><br><span class="line">instance1.transform.translate = &#123; <span class="number">30</span>,<span class="number">30</span>,<span class="number">1</span> &#125;;</span><br><span class="line">instance1.transform.rotation = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">60.0f</span> &#125;;</span><br><span class="line">instance1.transform.scale3D = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Instance instance2;</span><br><span class="line">instance2.model.name = <span class="string">&quot;2&quot;</span>;</span><br><span class="line">instance2.model.vertices = Vertices;</span><br><span class="line">instance2.model.triangles = triangles;</span><br><span class="line">instance2.transform.translate = &#123; <span class="number">-30</span>,<span class="number">30</span>,<span class="number">1</span> &#125;;</span><br><span class="line">instance2.transform.rotation = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">60.0f</span> &#125;;</span><br><span class="line">instance2.transform.scale3D = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">s.instances.<span class="built_in">push_back</span>(instance1);</span><br><span class="line">s.instances.<span class="built_in">push_back</span>(instance2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">RenderScene</span>(s);</span><br><span class="line"></span><br><span class="line">_getch();</span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img src="https://img-blog.csdnimg.cn/cecc1ac25c86457f9ba7694988231a6c.gif#pic_center" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><blockquote><p><br><a href="https://github.com/yang-shuohao/Renderer"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%85%89%E6%A0%85%E5%8C%96/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B8%B2%E6%9F%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/3150f9c.html"/>
    <id>https://www.yangshuohao.com/posts/3150f9c.html</id>
    <published>2021-08-27T14:26:24.000Z</published>
    <updated>2021-09-19T07:55:22.005Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenWidth 800</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenHeight 600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1) &lt; <span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x - P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y - P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x, P0.y, P1.x, P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x - P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line"><span class="built_in">Sleep</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawWireframeTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawLine</span>(P0, P1, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P1, P2, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P2, P0, color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFilledTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P1.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.y, P1.x, P2.y, P2.x);</span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P2.y, P2.x);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P2.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.y];x &lt; x_right[y - P0.y];x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec4 position;</span><br><span class="line"><span class="keyword">float</span> color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Triangle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 index;</span><br><span class="line">COLORREF color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawShadedTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">BYTE r = <span class="built_in">GetRValue</span>(color);</span><br><span class="line">BYTE g = <span class="built_in">GetGValue</span>(color);</span><br><span class="line">BYTE b = <span class="built_in">GetBValue</span>(color);</span><br><span class="line"></span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P1.position.y, P1.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line">h01.<span class="built_in">insert</span>(h01.<span class="built_in">end</span>(), h12.<span class="built_in">begin</span>(), h12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">h012</span><span class="params">(h01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line"></span><br><span class="line">h_left = h02;</span><br><span class="line">h_right = h012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line"></span><br><span class="line">h_left = h012;</span><br><span class="line">h_right = h02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y; y &lt; P2.position.y; y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> x_l = x_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">float</span> x_r = x_right[y - P0.position.y];</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_segment = <span class="built_in">Interpolate</span>(x_l, h_left[y - P0.position.y], x_r, h_right[y - P0.position.y]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y]; x &lt; x_right[y - P0.position.y]; x++)</span><br><span class="line">&#123;</span><br><span class="line">COLORREF shaded_color = <span class="built_in">RGB</span>(r * h_segment[x - x_l], g * h_segment[x - x_l], b * h_segment[x - x_l]);</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, shaded_color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderTriangle</span><span class="params">(Triangle triangle, std::vector&lt;Vertex&gt; vertices)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawWireframeTriangle</span>(vertices[triangle.index.x].position,</span><br><span class="line">vertices[triangle.index.y].position,</span><br><span class="line">vertices[triangle.index.z].position,</span><br><span class="line">triangle.color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderObject</span><span class="params">(std::vector&lt;Vertex&gt; vertices, std::vector&lt;Triangle&gt; triangles)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; triangles.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(triangles[i], vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetModel</span><span class="params">(glm::vec3 s = &#123; <span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span> &#125;, glm::vec4 r = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">60.0f</span> &#125;, glm::vec3 t = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span> &#125;)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), s);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(r.w), glm::<span class="built_in">vec3</span>(r));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), t);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">return</span> tm * rm * sm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetView</span><span class="params">(glm::vec3 eye=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),glm::vec3 center=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),glm::vec3 up=glm::vec3(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">lookAt</span>(eye, center, up);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetPerspective</span><span class="params">(<span class="keyword">float</span> fov=glm::radians(<span class="number">90.0f</span>),<span class="keyword">float</span> aspect= ScreenWidth/ScreenHeight,<span class="keyword">float</span> n=<span class="number">0.1f</span>,<span class="keyword">float</span> f=<span class="number">100.0f</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">perspective</span>(fov, aspect, n, f);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetMVP</span><span class="params">(glm::mat4 model, glm::mat4 view, glm::mat4 perspective)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> perspective * view * model;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">initgraph</span>(ScreenWidth, ScreenHeight);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line">std::vector&lt;Vertex&gt; Vertices;</span><br><span class="line">Vertices.<span class="built_in">resize</span>(<span class="number">8</span>);</span><br><span class="line">Vertices[<span class="number">0</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">1</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">2</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">3</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">4</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">5</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">6</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">7</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Vertices[<span class="number">0</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">1</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">2</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">3</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">4</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">5</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">6</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">7</span>].color = <span class="number">1.0f</span>;</span><br><span class="line"></span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">triangles.<span class="built_in">resize</span>(<span class="number">12</span>);</span><br><span class="line">triangles[<span class="number">0</span>].index = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">0</span>].color = RED;</span><br><span class="line">triangles[<span class="number">1</span>].index = &#123; <span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">1</span>].color = RED;</span><br><span class="line">triangles[<span class="number">2</span>].index = &#123; <span class="number">4</span>,<span class="number">0</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">2</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">3</span>].index = &#123; <span class="number">4</span>,<span class="number">3</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">3</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">4</span>].index = &#123; <span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">4</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">5</span>].index = &#123; <span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">5</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">6</span>].index = &#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">6</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">7</span>].index = &#123; <span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">7</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">8</span>].index = &#123; <span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span> &#125;;</span><br><span class="line">triangles[<span class="number">8</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">9</span>].index = &#123; <span class="number">4</span>,<span class="number">1</span>,<span class="number">0</span> &#125;;</span><br><span class="line">triangles[<span class="number">9</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">10</span>].index = &#123; <span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">10</span>].color = CYAN;</span><br><span class="line">triangles[<span class="number">11</span>].index = &#123; <span class="number">2</span>,<span class="number">7</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">11</span>].color = CYAN;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model =<span class="built_in">GetModel</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 view = <span class="built_in">GetView</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 perspective =<span class="built_in">GetPerspective</span>();</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">glm::mat4 mvp = <span class="built_in">GetMVP</span>(model,view,perspective);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Vertices.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">Vertices[i].position = mvp * Vertices[i].position;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">float</span> reciprocalW = <span class="number">1</span> / Vertices[i].position.w;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Vertices[i].position.x = (Vertices[i].position.x * reciprocalW + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">Vertices[i].position.y = (<span class="number">1.0f</span> - Vertices[i].position.y * reciprocalW) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">RenderObject</span>(Vertices, triangles);</span><br><span class="line"></span><br><span class="line">_getch();</span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img src="https://img-blog.csdnimg.cn/2861e646c80a4cd8aaabbb5c980a4263.gif#pic_center" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenWidth 800</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenHeight 600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1) &lt; <span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x - P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y - P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x, P0.y, P1.x, P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x - P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line"><span class="comment">//Sleep(1);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawWireframeTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawLine</span>(P0, P1, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P1, P2, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P2, P0, color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFilledTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P1.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.y, P1.x, P2.y, P2.x);</span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P2.y, P2.x);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P2.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.y];x &lt; x_right[y - P0.y];x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec4 position;</span><br><span class="line"><span class="keyword">float</span> color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Triangle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 index;</span><br><span class="line">COLORREF color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">std::string name;</span><br><span class="line">std::vector&lt;Vertex&gt; vertices;</span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span>  <span class="title">Transform</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 translate;</span><br><span class="line">glm::vec4 rotation;</span><br><span class="line">glm::vec3 scale3D;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Instance</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Model model;</span><br><span class="line">Transform transform;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Scene</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">std::vector&lt;Instance&gt; instances;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::vec4 <span class="title">ApplyTransform</span><span class="params">(glm::vec4 pos, Transform transform)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), transform.scale3D);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(transform.rotation.z), glm::<span class="built_in">vec3</span>(transform.rotation));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), transform.translate);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model = tm * rm * sm;</span><br><span class="line"><span class="keyword">return</span> model * pos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawShadedTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">BYTE r = <span class="built_in">GetRValue</span>(color);</span><br><span class="line">BYTE g = <span class="built_in">GetGValue</span>(color);</span><br><span class="line">BYTE b = <span class="built_in">GetBValue</span>(color);</span><br><span class="line"></span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P1.position.y, P1.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line">h01.<span class="built_in">insert</span>(h01.<span class="built_in">end</span>(), h12.<span class="built_in">begin</span>(), h12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">h012</span><span class="params">(h01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line"></span><br><span class="line">h_left = h02;</span><br><span class="line">h_right = h012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line"></span><br><span class="line">h_left = h012;</span><br><span class="line">h_right = h02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y; y &lt; P2.position.y; y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> x_l = x_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">float</span> x_r = x_right[y - P0.position.y];</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_segment = <span class="built_in">Interpolate</span>(x_l, h_left[y - P0.position.y], x_r, h_right[y - P0.position.y]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y]; x &lt; x_right[y - P0.position.y]; x++)</span><br><span class="line">&#123;</span><br><span class="line">COLORREF shaded_color = <span class="built_in">RGB</span>(r * h_segment[x - x_l], g * h_segment[x - x_l], b * h_segment[x - x_l]);</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, shaded_color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderTriangle</span><span class="params">(Triangle triangle, std::vector&lt;Vertex&gt; vertices)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawWireframeTriangle</span>(vertices[triangle.index.x].position,</span><br><span class="line">vertices[triangle.index.y].position,</span><br><span class="line">vertices[triangle.index.z].position,</span><br><span class="line">triangle.color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderObject</span><span class="params">(std::vector&lt;Vertex&gt; vertices, std::vector&lt;Triangle&gt; triangles)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; triangles.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(triangles[i], vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderInstance</span><span class="params">(Instance instances)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Model model = instances.model;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; model.vertices.<span class="built_in">size</span>();i++)</span><br><span class="line">&#123;</span><br><span class="line">model.vertices[i].position = <span class="built_in">ApplyTransform</span>(model.vertices[i].position, instances.transform);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; model.triangles.<span class="built_in">size</span>();j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(model.triangles[j], model.vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderScene</span><span class="params">(Scene s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.instances.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderInstance</span>(s.instances[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetModel</span><span class="params">(glm::vec3 s = &#123; <span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span> &#125;, glm::vec4 r = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">60.0f</span> &#125;, glm::vec3 t = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span> &#125;)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), s);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(r.w), glm::<span class="built_in">vec3</span>(r));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), t);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">return</span> tm * rm * sm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetView</span><span class="params">(glm::vec3 eye=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),glm::vec3 center=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),glm::vec3 up=glm::vec3(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">lookAt</span>(eye, center, up);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetPerspective</span><span class="params">(<span class="keyword">float</span> fov=glm::radians(<span class="number">90.0f</span>),<span class="keyword">float</span> aspect= ScreenWidth/ScreenHeight,<span class="keyword">float</span> n=<span class="number">0.1f</span>,<span class="keyword">float</span> f=<span class="number">100.0f</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">perspective</span>(fov, aspect, n, f);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetMVP</span><span class="params">(glm::mat4 model, glm::mat4 view, glm::mat4 perspective)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> perspective * view * model;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">initgraph</span>(ScreenWidth, ScreenHeight);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line">std::vector&lt;Vertex&gt; Vertices;</span><br><span class="line">Vertices.<span class="built_in">resize</span>(<span class="number">8</span>);</span><br><span class="line">Vertices[<span class="number">0</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">1</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">2</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">3</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">4</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">5</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">6</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">7</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Vertices[<span class="number">0</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">1</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">2</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">3</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">4</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">5</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">6</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">7</span>].color = <span class="number">1.0f</span>;</span><br><span class="line"></span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">triangles.<span class="built_in">resize</span>(<span class="number">12</span>);</span><br><span class="line">triangles[<span class="number">0</span>].index = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">0</span>].color = RED;</span><br><span class="line">triangles[<span class="number">1</span>].index = &#123; <span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">1</span>].color = RED;</span><br><span class="line">triangles[<span class="number">2</span>].index = &#123; <span class="number">4</span>,<span class="number">0</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">2</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">3</span>].index = &#123; <span class="number">4</span>,<span class="number">3</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">3</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">4</span>].index = &#123; <span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">4</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">5</span>].index = &#123; <span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">5</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">6</span>].index = &#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">6</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">7</span>].index = &#123; <span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">7</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">8</span>].index = &#123; <span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span> &#125;;</span><br><span class="line">triangles[<span class="number">8</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">9</span>].index = &#123; <span class="number">4</span>,<span class="number">1</span>,<span class="number">0</span> &#125;;</span><br><span class="line">triangles[<span class="number">9</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">10</span>].index = &#123; <span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">10</span>].color = CYAN;</span><br><span class="line">triangles[<span class="number">11</span>].index = &#123; <span class="number">2</span>,<span class="number">7</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">11</span>].color = CYAN;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model =<span class="built_in">GetModel</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 view = <span class="built_in">GetView</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 perspective =<span class="built_in">GetPerspective</span>();</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">glm::mat4 mvp = <span class="built_in">GetMVP</span>(model,view,perspective);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Vertices.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">Vertices[i].position = mvp * Vertices[i].position;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">float</span> reciprocalW = <span class="number">1</span> / Vertices[i].position.w;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Vertices[i].position.x = (Vertices[i].position.x * reciprocalW + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">Vertices[i].position.y = (<span class="number">1.0f</span> - Vertices[i].position.y * reciprocalW) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Scene s;</span><br><span class="line">Instance instance1;</span><br><span class="line">instance1.model.name = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">instance1.model.vertices = Vertices;</span><br><span class="line">instance1.model.triangles = triangles;</span><br><span class="line">instance1.transform.translate = &#123; <span class="number">30</span>,<span class="number">0</span>,<span class="number">1</span> &#125;;</span><br><span class="line">instance1.transform.rotation = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0.0f</span> &#125;;</span><br><span class="line">instance1.transform.scale3D = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Instance instance2;</span><br><span class="line">instance2.model.name = <span class="string">&quot;2&quot;</span>;</span><br><span class="line">instance2.model.vertices = Vertices;</span><br><span class="line">instance2.model.triangles = triangles;</span><br><span class="line">instance2.transform.translate = &#123; <span class="number">-30</span>,<span class="number">0</span>,<span class="number">1</span> &#125;;</span><br><span class="line">instance2.transform.rotation = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-0.0f</span> &#125;;</span><br><span class="line">instance2.transform.scale3D = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">s.instances.<span class="built_in">push_back</span>(instance1);</span><br><span class="line">s.instances.<span class="built_in">push_back</span>(instance2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">RenderScene</span>(s);</span><br><span class="line"></span><br><span class="line">_getch();</span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img src="https://img-blog.csdnimg.cn/5000664deadc4512bae347a9a022f66e.png" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>   </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenWidth 800</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ScreenHeight 600</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1) &lt; <span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x - P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y - P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x, P0.y, P1.x, P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x - P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line"><span class="comment">//Sleep(1);</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawWireframeTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawLine</span>(P0, P1, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P1, P2, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P2, P0, color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFilledTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P1.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.y, P1.x, P2.y, P2.x);</span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P2.y, P2.x);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P2.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.y];x &lt; x_right[y - P0.y];x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Sleep</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec4 position;</span><br><span class="line"><span class="keyword">float</span> color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Triangle</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 index;</span><br><span class="line">COLORREF color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">std::string name;</span><br><span class="line">std::vector&lt;Vertex&gt; vertices;</span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span>  <span class="title">Transform</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 translate;</span><br><span class="line">glm::vec4 rotation;</span><br><span class="line">glm::vec3 scale3D;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Instance</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Model model;</span><br><span class="line">Transform transform;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Scene</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">std::vector&lt;Instance&gt; instances;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::vec4 <span class="title">ApplyTransform</span><span class="params">(glm::vec4 pos, Transform transform)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), transform.scale3D);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(transform.rotation.z), glm::<span class="built_in">vec3</span>(transform.rotation));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), transform.translate);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model = tm * rm * sm;</span><br><span class="line"><span class="keyword">return</span> model * pos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawShadedTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">BYTE r = <span class="built_in">GetRValue</span>(color);</span><br><span class="line">BYTE g = <span class="built_in">GetGValue</span>(color);</span><br><span class="line">BYTE b = <span class="built_in">GetBValue</span>(color);</span><br><span class="line"></span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P1.position.y, P1.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line">h01.<span class="built_in">insert</span>(h01.<span class="built_in">end</span>(), h12.<span class="built_in">begin</span>(), h12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">h012</span><span class="params">(h01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line"></span><br><span class="line">h_left = h02;</span><br><span class="line">h_right = h012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line"></span><br><span class="line">h_left = h012;</span><br><span class="line">h_right = h02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y; y &lt; P2.position.y; y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> x_l = x_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">float</span> x_r = x_right[y - P0.position.y];</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_segment = <span class="built_in">Interpolate</span>(x_l, h_left[y - P0.position.y], x_r, h_right[y - P0.position.y]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y]; x &lt; x_right[y - P0.position.y]; x++)</span><br><span class="line">&#123;</span><br><span class="line">COLORREF shaded_color = <span class="built_in">RGB</span>(r * h_segment[x - x_l], g * h_segment[x - x_l], b * h_segment[x - x_l]);</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, shaded_color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderTriangle</span><span class="params">(Triangle triangle, std::vector&lt;Vertex&gt; vertices)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawFilledTriangle</span>(vertices[triangle.index.x].position,</span><br><span class="line">vertices[triangle.index.y].position,</span><br><span class="line">vertices[triangle.index.z].position,</span><br><span class="line">triangle.color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderObject</span><span class="params">(std::vector&lt;Vertex&gt; vertices, std::vector&lt;Triangle&gt; triangles)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; triangles.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(triangles[i], vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderInstance</span><span class="params">(Instance instances)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Model model = instances.model;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; model.vertices.<span class="built_in">size</span>();i++)</span><br><span class="line">&#123;</span><br><span class="line">model.vertices[i].position = <span class="built_in">ApplyTransform</span>(model.vertices[i].position, instances.transform);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; model.triangles.<span class="built_in">size</span>();j++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderTriangle</span>(model.triangles[j], model.vertices);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RenderScene</span><span class="params">(Scene s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.instances.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">RenderInstance</span>(s.instances[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetModel</span><span class="params">(glm::vec3 s = &#123; <span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span> &#125;, glm::vec4 r = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">60.0f</span> &#125;, glm::vec3 t = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span> &#125;)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), s);</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(r.w), glm::<span class="built_in">vec3</span>(r));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), t);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">return</span> tm * rm * sm;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetView</span><span class="params">(glm::vec3 eye=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),glm::vec3 center=glm::vec3(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),glm::vec3 up=glm::vec3(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>))</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">lookAt</span>(eye, center, up);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetPerspective</span><span class="params">(<span class="keyword">float</span> fov=glm::radians(<span class="number">90.0f</span>),<span class="keyword">float</span> aspect= ScreenWidth/ScreenHeight,<span class="keyword">float</span> n=<span class="number">0.1f</span>,<span class="keyword">float</span> f=<span class="number">100.0f</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> glm::<span class="built_in">perspective</span>(fov, aspect, n, f);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">glm::mat4 <span class="title">GetMVP</span><span class="params">(glm::mat4 model, glm::mat4 view, glm::mat4 perspective)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">return</span> perspective * view * model;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">initgraph</span>(ScreenWidth, ScreenHeight);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line">std::vector&lt;Vertex&gt; Vertices;</span><br><span class="line">Vertices.<span class="built_in">resize</span>(<span class="number">8</span>);</span><br><span class="line">Vertices[<span class="number">0</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">1</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">2</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">3</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">4</span>].position = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">5</span>].position = &#123; <span class="number">-1</span>,<span class="number">1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">6</span>].position = &#123; <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line">Vertices[<span class="number">7</span>].position = &#123; <span class="number">1</span>,<span class="number">-1</span>,<span class="number">-1</span> ,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Vertices[<span class="number">0</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">1</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">2</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">3</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">4</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">5</span>].color = <span class="number">0.5f</span>;</span><br><span class="line">Vertices[<span class="number">6</span>].color = <span class="number">1.0f</span>;</span><br><span class="line">Vertices[<span class="number">7</span>].color = <span class="number">1.0f</span>;</span><br><span class="line"></span><br><span class="line">std::vector&lt;Triangle&gt; triangles;</span><br><span class="line">triangles.<span class="built_in">resize</span>(<span class="number">12</span>);</span><br><span class="line">triangles[<span class="number">0</span>].index = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">0</span>].color = RED;</span><br><span class="line">triangles[<span class="number">1</span>].index = &#123; <span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">1</span>].color = RED;</span><br><span class="line">triangles[<span class="number">2</span>].index = &#123; <span class="number">4</span>,<span class="number">0</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">2</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">3</span>].index = &#123; <span class="number">4</span>,<span class="number">3</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">3</span>].color = GREEN;</span><br><span class="line">triangles[<span class="number">4</span>].index = &#123; <span class="number">5</span>,<span class="number">4</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">4</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">5</span>].index = &#123; <span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">5</span>].color = BLUE;</span><br><span class="line">triangles[<span class="number">6</span>].index = &#123; <span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span> &#125;;</span><br><span class="line">triangles[<span class="number">6</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">7</span>].index = &#123; <span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span> &#125;;</span><br><span class="line">triangles[<span class="number">7</span>].color = YELLOW;</span><br><span class="line">triangles[<span class="number">8</span>].index = &#123; <span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span> &#125;;</span><br><span class="line">triangles[<span class="number">8</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">9</span>].index = &#123; <span class="number">4</span>,<span class="number">1</span>,<span class="number">0</span> &#125;;</span><br><span class="line">triangles[<span class="number">9</span>].color = WHITE;</span><br><span class="line">triangles[<span class="number">10</span>].index = &#123; <span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span> &#125;;</span><br><span class="line">triangles[<span class="number">10</span>].color = CYAN;</span><br><span class="line">triangles[<span class="number">11</span>].index = &#123; <span class="number">2</span>,<span class="number">7</span>,<span class="number">3</span> &#125;;</span><br><span class="line">triangles[<span class="number">11</span>].color = CYAN;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model =<span class="built_in">GetModel</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 view = <span class="built_in">GetView</span>();</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 perspective =<span class="built_in">GetPerspective</span>();</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">glm::mat4 mvp = <span class="built_in">GetMVP</span>(model,view,perspective);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Vertices.<span class="built_in">size</span>(); i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">Vertices[i].position = mvp * Vertices[i].position;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">float</span> reciprocalW = <span class="number">1</span> / Vertices[i].position.w;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">Vertices[i].position.x = (Vertices[i].position.x * reciprocalW + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">Vertices[i].position.y = (<span class="number">1.0f</span> - Vertices[i].position.y * reciprocalW) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Scene s;</span><br><span class="line">Instance instance1;</span><br><span class="line">instance1.model.name = <span class="string">&quot;1&quot;</span>;</span><br><span class="line">instance1.model.vertices = Vertices;</span><br><span class="line">instance1.model.triangles = triangles;</span><br><span class="line">instance1.transform.translate = &#123; <span class="number">30</span>,<span class="number">0</span>,<span class="number">1</span> &#125;;</span><br><span class="line">instance1.transform.rotation = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0.0f</span> &#125;;</span><br><span class="line">instance1.transform.scale3D = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">Instance instance2;</span><br><span class="line">instance2.model.name = <span class="string">&quot;2&quot;</span>;</span><br><span class="line">instance2.model.vertices = Vertices;</span><br><span class="line">instance2.model.triangles = triangles;</span><br><span class="line">instance2.transform.translate = &#123; <span class="number">-30</span>,<span class="number">0</span>,<span class="number">1</span> &#125;;</span><br><span class="line">instance2.transform.rotation = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-0.0f</span> &#125;;</span><br><span class="line">instance2.transform.scale3D = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span> &#125;;</span><br><span class="line"></span><br><span class="line">s.instances.<span class="built_in">push_back</span>(instance1);</span><br><span class="line">s.instances.<span class="built_in">push_back</span>(instance2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">RenderScene</span>(s);</span><br><span class="line"></span><br><span class="line">_getch();</span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/dd8477ced8734e86a006ca243a2167fd.gif#pic_center" alt=""></p><p></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><blockquote><p><br><a href="https://github.com/yang-shuohao/Renderer"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%85%89%E6%A0%85%E5%8C%96/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B8%B2%E6%9F%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/41dd1dda.html"/>
    <id>https://www.yangshuohao.com/posts/41dd1dda.html</id>
    <published>2021-08-26T15:36:19.000Z</published>
    <updated>2021-09-19T07:55:21.996Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>glmMVPModelSRTViewView</p><h1 id="MVP"><a href="#MVP" class="headerlink" title="MVP"></a>MVP</h1><p>glm</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">vec3</span>(<span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span>));</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(<span class="number">0.0f</span>), glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>));</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model = tm * rm * sm;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 view = glm::<span class="built_in">lookAt</span>(glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 perspective = glm::<span class="built_in">perspective</span>(glm::<span class="built_in">radians</span>(<span class="number">90.0f</span>), (<span class="keyword">float</span>)ScreenWidth / (<span class="keyword">float</span>)ScreenHeight, <span class="number">0.1f</span>, <span class="number">100.0f</span>);</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">glm::mat4 mvp = perspective * view * model;</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">v0.position = mvp * v0.position;</span><br><span class="line">v1.position = mvp * v1.position;</span><br><span class="line">v2.position = mvp * v2.position;</span><br></pre></td></tr></table></figure><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>MVPw1w</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">float</span> reciprocalW0 = <span class="number">1</span> / v0.position.w;</span><br><span class="line"><span class="keyword">float</span> reciprocalW1 = <span class="number">1</span> / v1.position.w;</span><br><span class="line"><span class="keyword">float</span> reciprocalW2 = <span class="number">1</span> / v2.position.w;</span><br></pre></td></tr></table></figure><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>[-1,1]x1[0,2]2[0,1]yyy1[0,2]2[0,1]    </p><p><img src="https://img-blog.csdnimg.cn/3b04fc70b4d34c73a060f166e2d8fd06.png" alt="">   </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line">v0.position.x = (v0.position.x * reciprocalW0 + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">v0.position.y = (<span class="number">1.0f</span> - v0.position.y * reciprocalW0) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line">v1.position.x = (v1.position.x * reciprocalW1 + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">v1.position.y = (<span class="number">1.0f</span> - v1.position.y * reciprocalW1) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line">v2.position.x = (v2.position.x * reciprocalW2 + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">v2.position.y = (<span class="number">1.0f</span> - v2.position.y * reciprocalW2) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id=""><a href="#" class="headerlink" title=""></a></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1) &lt; <span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x - P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y - P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x, P0.y, P1.x, P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x - P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawWireframeTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawLine</span>(P0, P1, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P1, P2, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P2, P0, color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFilledTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P1.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.y, P1.x, P2.y, P2.x);</span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P2.y, P2.x);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P2.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.y];x &lt; x_right[y - P0.y];x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec4 position;</span><br><span class="line"><span class="keyword">float</span> color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawShadedTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">BYTE r = <span class="built_in">GetRValue</span>(color);</span><br><span class="line">BYTE g = <span class="built_in">GetGValue</span>(color);</span><br><span class="line">BYTE b = <span class="built_in">GetBValue</span>(color);</span><br><span class="line"></span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P1.position.y, P1.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line">h01.<span class="built_in">insert</span>(h01.<span class="built_in">end</span>(), h12.<span class="built_in">begin</span>(), h12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">h012</span><span class="params">(h01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line"></span><br><span class="line">h_left = h02;</span><br><span class="line">h_right = h012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line"></span><br><span class="line">h_left = h012;</span><br><span class="line">h_right = h02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y; y &lt; P2.position.y; y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> x_l = x_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">float</span> x_r = x_right[y - P0.position.y];</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_segment = <span class="built_in">Interpolate</span>(x_l, h_left[y - P0.position.y], x_r, h_right[y - P0.position.y]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y]; x &lt; x_right[y - P0.position.y]; x++)</span><br><span class="line">&#123;</span><br><span class="line">COLORREF shaded_color = <span class="built_in">RGB</span>(r * h_segment[x - x_l], g * h_segment[x - x_l], b * h_segment[x - x_l]);</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, shaded_color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ScreenWidth = <span class="number">800</span>;</span><br><span class="line"><span class="keyword">int</span> ScreenHeight = <span class="number">600</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">initgraph</span>(ScreenWidth, ScreenHeight);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line">Vertex v0;</span><br><span class="line">v0.position = &#123; <span class="number">-0.5f</span>, <span class="number">-0.5f</span> ,<span class="number">0.0f</span>,<span class="number">1.0f</span> &#125;;</span><br><span class="line">v0.color = <span class="number">1.0f</span>;</span><br><span class="line">Vertex v1;</span><br><span class="line">v1.position = &#123; <span class="number">0.5f</span>, <span class="number">-0.5f</span>,<span class="number">0.0f</span>,<span class="number">1.0f</span> &#125;;</span><br><span class="line">v1.color = <span class="number">0.5f</span>;</span><br><span class="line">Vertex v2;</span><br><span class="line">v2.position = &#123; <span class="number">0.0f</span>, <span class="number">0.5f</span> ,<span class="number">0.0f</span>,<span class="number">1.0f</span> &#125;;</span><br><span class="line">v2.color = <span class="number">0.0f</span>;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">glm::mat4 sm = glm::<span class="built_in">scale</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">vec3</span>(<span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span>));</span><br><span class="line">glm::mat4 rm = glm::<span class="built_in">rotate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">radians</span>(<span class="number">0.0f</span>), glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">glm::mat4 tm = glm::<span class="built_in">translate</span>(glm::<span class="built_in">mat4</span>(<span class="number">1.0f</span>), glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>));</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 model = tm * rm * sm;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 view = glm::<span class="built_in">lookAt</span>(glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), glm::<span class="built_in">vec3</span>(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">glm::mat4 perspective = glm::<span class="built_in">perspective</span>(glm::<span class="built_in">radians</span>(<span class="number">90.0f</span>), (<span class="keyword">float</span>)ScreenWidth / (<span class="keyword">float</span>)ScreenHeight, <span class="number">0.1f</span>, <span class="number">100.0f</span>);</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">glm::mat4 mvp = perspective * view * model;</span><br><span class="line"><span class="comment">//MVP</span></span><br><span class="line">v0.position = mvp * v0.position;</span><br><span class="line">v1.position = mvp * v1.position;</span><br><span class="line">v2.position = mvp * v2.position;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">float</span> reciprocalW0 = <span class="number">1</span> / v0.position.w;</span><br><span class="line"><span class="keyword">float</span> reciprocalW1 = <span class="number">1</span> / v1.position.w;</span><br><span class="line"><span class="keyword">float</span> reciprocalW2 = <span class="number">1</span> / v2.position.w;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">v0.position.x = (v0.position.x * reciprocalW0 + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">v0.position.y = (<span class="number">1.0f</span> - v0.position.y * reciprocalW0) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line">v1.position.x = (v1.position.x * reciprocalW1 + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">v1.position.y = (<span class="number">1.0f</span> - v1.position.y * reciprocalW1) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line">v2.position.x = (v2.position.x * reciprocalW2 + <span class="number">1.0f</span>) * <span class="number">0.5f</span> * ScreenWidth;</span><br><span class="line">v2.position.y = (<span class="number">1.0f</span> - v2.position.y * reciprocalW2) * <span class="number">0.5f</span> * ScreenHeight;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawShadedTriangle</span>(v0, v1, v2, <span class="built_in">RGB</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">_getch();</span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><img src="https://img-blog.csdnimg.cn/eb3f05c5ded44c5da6c602c07101eb97.png" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><blockquote><p><br><a href="https://github.com/yang-shuohao/Renderer"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%85%89%E6%A0%85%E5%8C%96/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B8%B2%E6%9F%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/b1b304e5.html"/>
    <id>https://www.yangshuohao.com/posts/b1b304e5.html</id>
    <published>2021-08-26T13:55:40.000Z</published>
    <updated>2021-09-19T07:55:21.997Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1) &lt; <span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x - P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y - P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x, P0.y, P1.x, P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x - P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawWireframeTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawLine</span>(P0, P1, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P1, P2, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P2, P0, color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFilledTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P1.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.y, P1.x, P2.y, P2.x);</span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P2.y, P2.x);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P2.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.y];x &lt; x_right[y - P0.y];x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Vertex</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">glm::vec3 position;</span><br><span class="line"><span class="keyword">float</span> color;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawShadedTriangle</span><span class="params">(Vertex P0, Vertex P1, Vertex P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">BYTE r = <span class="built_in">GetRValue</span>(color);</span><br><span class="line">BYTE g = <span class="built_in">GetGValue</span>(color);</span><br><span class="line">BYTE b = <span class="built_in">GetBValue</span>(color);</span><br><span class="line"></span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P0.position.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.position.y &lt; P1.position.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P1.position.y, P1.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h01 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P1.position.y, P1.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h12 = <span class="built_in">Interpolate</span>(P1.position.y, P1.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.position.x, P2.position.y, P2.position.x);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h02 = <span class="built_in">Interpolate</span>(P0.position.y, P0.color, P2.position.y, P2.color);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line">h01.<span class="built_in">insert</span>(h01.<span class="built_in">end</span>(), h12.<span class="built_in">begin</span>(), h12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">h012</span><span class="params">(h01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_right;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line"></span><br><span class="line">h_left = h02;</span><br><span class="line">h_right = h012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line"></span><br><span class="line">h_left = h012;</span><br><span class="line">h_right = h02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.position.y; y &lt; P2.position.y; y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">float</span> x_l = x_left[y - P0.position.y];</span><br><span class="line"><span class="keyword">float</span> x_r = x_right[y - P0.position.y];</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; h_segment = <span class="built_in">Interpolate</span>(x_l, h_left[y - P0.position.y], x_r, h_right[y - P0.position.y]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.position.y]; x &lt; x_right[y - P0.position.y]; x++)</span><br><span class="line">&#123;</span><br><span class="line">COLORREF shaded_color = <span class="built_in">RGB</span>(r * h_segment[x - x_l], g * h_segment[x - x_l], b * h_segment[x - x_l]);</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, shaded_color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ScreenWidth = <span class="number">800</span>;</span><br><span class="line"><span class="keyword">int</span> ScreenHeight = <span class="number">600</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">initgraph</span>(ScreenWidth, ScreenHeight);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line">Vertex v0;</span><br><span class="line">v0.position = &#123; <span class="number">200</span>, <span class="number">200</span> ,<span class="number">0</span> &#125;;</span><br><span class="line">v0.color = <span class="number">1.0f</span>;</span><br><span class="line">Vertex v1;</span><br><span class="line">v1.position = &#123; <span class="number">200</span>, <span class="number">500</span> ,<span class="number">0</span> &#125;;</span><br><span class="line">v1.color = <span class="number">0.5f</span>;</span><br><span class="line">Vertex v2;</span><br><span class="line">v2.position = &#123; <span class="number">350</span>, <span class="number">350</span> ,<span class="number">0</span> &#125;;</span><br><span class="line">v2.color = <span class="number">0.0f</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawShadedTriangle</span>(v0, v1, v2, <span class="built_in">RGB</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>   </p><p><img src="https://img-blog.csdnimg.cn/63c1c22138ba411f9d9666d52822da86.png" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><blockquote><p><br><a href="https://github.com/yang-shuohao/Renderer"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%85%89%E6%A0%85%E5%8C%96/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B8%B2%E6%9F%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/43727ade.html"/>
    <id>https://www.yangshuohao.com/posts/43727ade.html</id>
    <published>2021-08-25T14:20:42.000Z</published>
    <updated>2021-09-19T07:55:21.997Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p><ul><li></li><li></li><li> </li><li></li></ul><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1)&lt;<span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x-P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y-P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x,P0.y,P1.x,P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x-P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawWireframeTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">DrawLine</span>(P0, P1, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P1, P2, color);</span><br><span class="line"><span class="built_in">DrawLine</span>(P2, P0, color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawFilledTriangle</span><span class="params">(glm::vec2 P0, glm::vec2 P1, glm::vec2 P2, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">// P0.y &lt;= P1.y &lt;= P2.y</span></span><br><span class="line"><span class="keyword">if</span> (P1.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P1, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P0.y) &#123; std::<span class="built_in">swap</span>(P2, P0); &#125;</span><br><span class="line"><span class="keyword">if</span> (P2.y &lt; P1.y) &#123; std::<span class="built_in">swap</span>(P2, P1); &#125;</span><br><span class="line">              </span><br><span class="line"><span class="comment">//------------------P2|\</span></span><br><span class="line"><span class="comment">//--------------------| \</span></span><br><span class="line"><span class="comment">//--------------------|  \ P1</span></span><br><span class="line"><span class="comment">//--------------------|  /</span></span><br><span class="line"><span class="comment">//--------------------| /</span></span><br><span class="line"><span class="comment">//------------------P0|/     </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x01 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="comment">//P1P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x12 = <span class="built_in">Interpolate</span>(P1.y, P1.x, P2.y, P2.x);</span><br><span class="line"><span class="comment">//P0P2x</span></span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x02 = <span class="built_in">Interpolate</span>(P0.y, P0.x, P2.y, P2.x);</span><br><span class="line"></span><br><span class="line"><span class="comment">//P0P1P1P2P1</span></span><br><span class="line"><span class="comment">//x01.pop_back();</span></span><br><span class="line"><span class="comment">//x012=x01+x12 x012P0P1P1P2x</span></span><br><span class="line">x01.<span class="built_in">insert</span>(x01.<span class="built_in">end</span>(), x12.<span class="built_in">begin</span>(), x12.<span class="built_in">end</span>());</span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">x012</span><span class="params">(x01)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> m = glm::<span class="built_in">floor</span>(x012.<span class="built_in">size</span>() / <span class="number">2</span>);</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_left;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; x_right;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//---------P2|\</span></span><br><span class="line"><span class="comment">//-----------| \</span></span><br><span class="line"><span class="comment">//-----------|  \ P1</span></span><br><span class="line"><span class="comment">//-----------|  /</span></span><br><span class="line"><span class="comment">//-----------| /</span></span><br><span class="line"><span class="comment">//---------P0|/</span></span><br><span class="line"><span class="keyword">if</span> (x02[m] &lt; x012[m])</span><br><span class="line">&#123;</span><br><span class="line">x_left = x02;</span><br><span class="line">x_right = x012;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------</span></span><br><span class="line"><span class="comment">//----------/|P2</span></span><br><span class="line"><span class="comment">//---------/ | </span></span><br><span class="line"><span class="comment">//------p1/  | </span></span><br><span class="line"><span class="comment">//--------\ |</span></span><br><span class="line"><span class="comment">//---------\ |</span></span><br><span class="line"><span class="comment">//----------\|P0</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">x_left = x012;</span><br><span class="line">x_right = x02;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P2.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = x_left[y - P0.y];x &lt; x_right[y - P0.y];x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">initgraph</span>(<span class="number">640</span>, <span class="number">640</span>);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line"><span class="function">glm::vec2 <span class="title">P0</span><span class="params">(<span class="number">200</span>, <span class="number">200</span>)</span></span>;</span><br><span class="line"><span class="function">glm::vec2 <span class="title">P1</span><span class="params">(<span class="number">200</span>, <span class="number">500</span>)</span></span>;</span><br><span class="line"><span class="function">glm::vec2 <span class="title">P2</span><span class="params">(<span class="number">350</span>, <span class="number">350</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawFilledTriangle</span>(P0, P1, P2, RED);</span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>   </p><p><img src="https://img-blog.csdnimg.cn/55269d5cf3c048388984aa15b7f19c1f.png" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><blockquote><p><br><a href="https://github.com/yang-shuohao/Renderer"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%85%89%E6%A0%85%E5%8C%96/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B8%B2%E6%9F%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/a16148d3.html"/>
    <id>https://www.yangshuohao.com/posts/a16148d3.html</id>
    <published>2021-08-24T14:36:46.000Z</published>
    <updated>2021-09-19T07:55:21.998Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>P0(x0,y0)P1(x1,y1)P0P1P0P1P</p><blockquote><p>P = P0 + t(P1 - P0)</p></blockquote><p></p><blockquote><p>x = x0 + t(x1 - x0)<br>y = y0 + t(y1 - y0)     </p></blockquote><p></p><blockquote><p>t=(x - x0) / (x1 - x0)</p></blockquote><p>t</p><blockquote><p>y = y0 + (x - x0) / (x1 - x0) * (y1 - y0)</p></blockquote><p>(y1 - y0) / (x1 - x0)a</p><blockquote><p>y = y0 + a * (x - x0)</p></blockquote><p></p><blockquote><p>y = ax + (y0 -ax0)</p></blockquote><p>y0 - ax0b</p><blockquote><p>y = ax + b</p></blockquote><p></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><ul><li></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine1</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> b = P0.y - a * P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x=P0.x;x&lt;P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> y = a * x + b;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">initgraph</span>(<span class="number">640</span>, <span class="number">640</span>);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawLine1</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>,<span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">400</span>,<span class="number">400</span>), RED);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/365c158081244335932e26cf3f0098a6.png" alt=""><br>aP1.x-P0.x</p><ul><li><blockquote><p>y(x) = ax + b<br>y(x+1) =a * (x + 1) + b</p></blockquote></li></ul><p></p><blockquote><p>y(x+1) = ax + a + b<br>y(x+1) = (ax+b) + a<br>y(x+1) = y(x) + a</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine1</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> b = P0.y - a * P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x=P0.x;x&lt;P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> y = a * x + b;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine2</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">initgraph</span>(<span class="number">640</span>, <span class="number">640</span>);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawLine2</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>,<span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">300</span>,<span class="number">100</span>), RED);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/2fe9481ed83f4c9da27b24dd39e938d9.png" alt=""><br></p><ul><li><br></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine1</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> b = P0.y - a * P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x=P0.x;x&lt;P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> y = a * x + b;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine2</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine3</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">initgraph</span>(<span class="number">640</span>, <span class="number">640</span>);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawLine3</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>,<span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">300</span>,<span class="number">100</span>), RED);</span><br><span class="line"><span class="built_in">DrawLine3</span>(glm::<span class="built_in">vec2</span>(<span class="number">500</span>, <span class="number">200</span>), glm::<span class="built_in">vec2</span>(<span class="number">100</span>, <span class="number">200</span>), RED);</span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/a4984873841b435482298f8fb977ede0.png" alt=""></p><ul><li><br>xy,</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine1</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> b = P0.y - a * P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x=P0.x;x&lt;P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> y = a * x + b;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine2</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine3</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine4</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (P1.x - P0.x) / (P1.y - P0.y);</span><br><span class="line"><span class="keyword">float</span> x = P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">x = x + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">initgraph</span>(<span class="number">640</span>, <span class="number">640</span>);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawLine3</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>,<span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">500</span>,<span class="number">100</span>), RED);</span><br><span class="line"><span class="built_in">DrawLine4</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>, <span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">100</span>, <span class="number">500</span>), GREEN);</span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/48a03d6f9f7e48fe8fe471e0f5fa4290.png" alt=""></p><ul><li><br></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine1</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> b = P0.y - a * P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x=P0.x;x&lt;P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> y = a * x + b;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine2</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine3</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine4</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (P1.x - P0.x) / (P1.y - P0.y);</span><br><span class="line"><span class="keyword">float</span> x = P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">x = x + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine5</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> dx = P1.x - P0.x;</span><br><span class="line"><span class="keyword">float</span> dy = P1.y - P0.y;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(dx) &gt; glm::<span class="built_in">abs</span>(dy))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = dy / dx;</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = dx / dy;</span><br><span class="line"><span class="keyword">float</span> x = P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">x = x + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">initgraph</span>(<span class="number">640</span>, <span class="number">640</span>);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawLine5</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>,<span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">500</span>,<span class="number">100</span>), RED);</span><br><span class="line"><span class="built_in">DrawLine5</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>, <span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">100</span>, <span class="number">500</span>), GREEN);</span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/aac777f1be9f411fb8944862cc869490.png" alt=""></p><ul><li><br></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine1</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> b = P0.y - a * P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x=P0.x;x&lt;P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> y = a * x + b;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine2</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine3</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (P1.y - P0.y) / (P1.x - P0.x);</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine4</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (P1.x - P0.x) / (P1.y - P0.y);</span><br><span class="line"><span class="keyword">float</span> x = P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">x = x + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine5</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">float</span> dx = P1.x - P0.x;</span><br><span class="line"><span class="keyword">float</span> dy = P1.y - P0.y;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(dx) &gt; glm::<span class="built_in">abs</span>(dy))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = dy / dx;</span><br><span class="line"><span class="keyword">float</span> y = P0.y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">y = y + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = dx / dy;</span><br><span class="line"><span class="keyword">float</span> x = P0.x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, y, color);</span><br><span class="line">x = x + a;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">std::vector&lt;<span class="keyword">float</span>&gt; <span class="title">Interpolate</span><span class="params">(<span class="keyword">float</span> i0, <span class="keyword">float</span> d0, <span class="keyword">float</span> i1, <span class="keyword">float</span> d1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; values;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(i0 - i1)&lt;=<span class="number">1e-6</span>)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d0);</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">float</span> a = (d1 - d0) / (i1 - i0);</span><br><span class="line"><span class="keyword">float</span> d = d0;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = i0;i &lt; i1;i++)</span><br><span class="line">&#123;</span><br><span class="line">values.<span class="built_in">push_back</span>(d);</span><br><span class="line">d = d + a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> values;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine6</span><span class="params">(glm::vec2 P0, glm::vec2 P1, COLORREF color)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (glm::<span class="built_in">abs</span>(P1.x-P0.x) &gt; glm::<span class="built_in">abs</span>(P1.y-P0.y))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.x &gt; P1.x)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; ys = <span class="built_in">Interpolate</span>(P0.x,P0.y,P1.x,P1.y);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = P0.x;x &lt; P1.x;x++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(x, ys[x-P0.x], color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (P0.y &gt; P1.y)</span><br><span class="line">&#123;</span><br><span class="line">std::<span class="built_in">swap</span>(P0, P1);</span><br><span class="line">&#125;</span><br><span class="line">std::vector&lt;<span class="keyword">float</span>&gt; xs = <span class="built_in">Interpolate</span>(P0.y, P0.x, P1.y, P1.x);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = P0.y;y &lt; P1.y;y++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">putpixel</span>(xs[y - P0.y], y, color);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">initgraph</span>(<span class="number">640</span>, <span class="number">640</span>);<span class="comment">//  640x480 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">DrawLine6</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>,<span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">500</span>,<span class="number">100</span>), RED);</span><br><span class="line"><span class="built_in">DrawLine6</span>(glm::<span class="built_in">vec2</span>(<span class="number">100</span>, <span class="number">100</span>), glm::<span class="built_in">vec2</span>(<span class="number">100</span>, <span class="number">500</span>), GREEN);</span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/184e7634384d423c9e3f4cc556e269d2.png" alt=""></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p></p><blockquote><p><br><a href="https://github.com/yang-shuohao/Renderer"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%85%89%E6%A0%85%E5%8C%96/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B8%B2%E6%9F%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/524273da.html"/>
    <id>https://www.yangshuohao.com/posts/524273da.html</id>
    <published>2021-08-23T13:36:20.000Z</published>
    <updated>2021-09-19T07:55:21.999Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>C++   </p><blockquote><ol><li></li><li></li><li></li><li>    </li></ol></blockquote><p><a href="https://easyx.cn/download">EaxyX</a>EasyXEasyX<a href="https://github.com/g-truc/glm">glm</a>   </p><h1 id="EasyX"><a href="#EasyX" class="headerlink" title="EasyX"></a>EasyX</h1><p><a href="https://easyx.cn/download"></a><br><img src="https://img-blog.csdnimg.cn/e24a264245454ebd8c4a39daddb989e8.png" alt=""><br><br><img src="https://img-blog.csdnimg.cn/a63d81d138944719838a96eefd51a84e.png" alt=""></p><h1 id="glm"><a href="#glm" class="headerlink" title="glm"></a>glm</h1><p><a href="https://github.com/g-truc/glm"></a><br>glm</p><h1 id="C-"><a href="#C-" class="headerlink" title="C++"></a>C++</h1><p><img src="https://img-blog.csdnimg.cn/54f6bb190b0a434093d79c6ac11f3dbb.png" alt=""><img src="https://img-blog.csdnimg.cn/32e298901a3246c4b8959c6c4ee48db1.png" alt=""><br>VendorglmVendor<br><img src="https://img-blog.csdnimg.cn/1d1bb121380144a5a830af49cfe78a43.png" alt=""><br>VSMain.cppC/C++$(SolutionDir)Vendor\<br><img src="https://img-blog.csdnimg.cn/e8867b7f0e9049c3878d9073410242db.png" alt=""><br>Main.cpp</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// EasyX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;graphics.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="comment">//glm</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/glm.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/matrix_transform.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;glm/gtc/type_ptr.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">initgraph</span>(<span class="number">640</span>, <span class="number">640</span>);<span class="comment">//  640x640 </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">putpixel</span>(<span class="number">100</span>, <span class="number">100</span>, RED);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">_getch();<span class="comment">// </span></span><br><span class="line"><span class="built_in">closegraph</span>();<span class="comment">// </span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><br><img src="https://img-blog.csdnimg.cn/498e38ae0c1143ea8cf9ef9e47c07e21.png" alt=""></p><blockquote><p><br><a href="https://github.com/yang-shuohao/Renderer"></a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%85%89%E6%A0%85%E5%8C%96/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B8%B2%E6%9F%93/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/f94e28b8.html"/>
    <id>https://www.yangshuohao.com/posts/f94e28b8.html</id>
    <published>2021-08-14T04:20:35.000Z</published>
    <updated>2021-09-19T07:55:22.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p><a href="https://www.bilibili.com/video/BV1AL411J7g8/"></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E8%B5%84%E6%BA%90/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E7%94%B5%E5%AD%90%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://www.yangshuohao.com/posts/9b4a944f.html"/>
    <id>https://www.yangshuohao.com/posts/9b4a944f.html</id>
    <published>2021-08-10T13:59:35.000Z</published>
    <updated>2021-09-19T07:55:22.006Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p> 3D </p><p> 3D  Direct3D  API </p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p> 3D  2D  3D  2D  z  1<br><img src="https://img-blog.csdnimg.cn/img_convert/94f7da7c9bd8a845061a42d8ee4c08df.gif"><br> 1 z  xy    </p><p> API  (1, 1, 0)  (1, 1, 1) ) Direct3D  x  y z </p><p> 1  z y x  Direct3D  API  Direct3D </p><p></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p> 2 <br><img src="https://img-blog.csdnimg.cn/img_convert/7c2351db9f622132ae4750b1b585b6e5.gif"><br> 2  </p><p><br><img src="https://img-blog.csdnimg.cn/20210810215724156.png">  </p><p> 1  z 3D  3D  3 <br><img src="https://img-blog.csdnimg.cn/img_convert/52c8a4ac6d47eb610fbd19d0c963de6f.gif"><br> 3  </p><p> x  [l, r]  x  [1, 1] <br><img src="https://img-blog.csdnimg.cn/20210810215816416.png"><br> l <br><img src="https://img-blog.csdnimg.cn/2021081022104335.png"><br> x  1  1 2/(r  l)r  l <br><img src="https://img-blog.csdnimg.cn/20210810221113855.png"><br> [1, 1] <br><img src="https://img-blog.csdnimg.cn/20210810221204751.png"><br><br><img src="https://img-blog.csdnimg.cn/20210810221238532.png"><br> px + q <br><img src="https://img-blog.csdnimg.cn/20210810221308212.png"><br> x <br><img src="https://img-blog.csdnimg.cn/20210810221334488.png"><br> y  y  x t  r b  l<br><img src="https://img-blog.csdnimg.cn/20210810221352526.png"><br> z  z  [0, 1]  [1, 1] [n, f]  z <br><img src="https://img-blog.csdnimg.cn/20210810221501764.png"><br> n<br><img src="https://img-blog.csdnimg.cn/20210810221448943.png"><br> f  n  [0, 1] f  n <br><img src="https://img-blog.csdnimg.cn/20210810221531547.png"><br> pz + q <br><img src="https://img-blog.csdnimg.cn/20210810221549682.png"><br> z <br><img src="https://img-blog.csdnimg.cn/20210810221604852.png"><br><br><img src="https://img-blog.csdnimg.cn/20210810221620177.png"><br><br><img src="https://img-blog.csdnimg.cn/20210810221636140.png"><br>Direct3D  D3DXMatrixOrthoOffCenterLH()  DirectX LHOffCenter</p><p> z  z z  r = l  t = b rlt  b w  h  f  n <br><img src="https://img-blog.csdnimg.cn/20210810221653279.png"><br> Direct3D  D3DXMatrixOrthoLH() </p><p><br><img src="https://img-blog.csdnimg.cn/20210810221709270.png"><br> z </p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p> 4 <br><img src="https://img-blog.csdnimg.cn/img_convert/c9f793ad6734621195f15af42199ad74.gif"><br> 4  </p><p> (l, b, n)  (r, t, n) z = f </p><p> x  y  z x  y </p><blockquote><p> 1 (x, y, z) z = n x  [l, r]  y  [b, t] <br> 2  x  [l, r]  [1, 1] y  [b, t]  [ 1, 1]</p></blockquote><p> 5<br><img src="https://img-blog.csdnimg.cn/img_convert/a729d9d85a5b5b411f9e7b500f66ef66.gif"><br> 5 z = n    </p><p> (x, y, z)  z = n    z  1 23</p><p> z  n  z n / z  (x, y, z)  z <br><img src="https://img-blog.csdnimg.cn/20210810221732692.png"><br>  z  x  y  L  n / z<br><img src="https://img-blog.csdnimg.cn/20210810221748461.png"><br>  x  x * n / z y  y * n / z 1  2  x  y <br><img src="https://img-blog.csdnimg.cn/20210810221806506.png"><br>  x * n / z  x y * n / z  y<br><img src="https://img-blog.csdnimg.cn/20210810221831107.png"><br>  z<br><img src="https://img-blog.csdnimg.cn/2021081022184719.png"><br> <br><img src="https://img-blog.csdnimg.cn/20210810221901623.png"><br>  zz  xz  yz  (x, y, z)  (xz, y zzz) z (x, y, z)</p><p> z  z  x  y zz = pz + q  p  q  z  [n, f]  [0, 1] z = 0  z = n ,  z = f  z = 1 zz = pz + q  p  q<br><img src="https://img-blog.csdnimg.cn/20210810221916716.png"><br><br><img src="https://img-blog.csdnimg.cn/20210810221928780.png"><br> q  p<br><img src="https://img-blog.csdnimg.cn/20210810221943322.png"><br> p  q = pn q<br><img src="https://img-blog.csdnimg.cn/20210810221955921.png"><br> p  q <br><img src="https://img-blog.csdnimg.cn/2021081022200919.png"><br> w  w = 1 [0 0 0 1] (x z, yz, zz, wz) w = 1 wz = z<br><img src="https://img-blog.csdnimg.cn/20210810222023304.png"><br><br><img src="https://img-blog.csdnimg.cn/20210810222036447.png"><br> (x, y, z, 1)  (xz, yz, zz, z) (x, y, z, 1)Direct3D  D3DXMatrixPerspectiveOffCenterLH()  z  r = l  t = b w  h<br><img src="https://img-blog.csdnimg.cn/20210810222051601.png"><br>Direct3D  D3DXMatrixPerspectiveLH()</p><p> 6<br><img src="https://img-blog.csdnimg.cn/img_convert/2d1ab4505448e758a8cc52582fb5d2fd.gif"><br> 6 a </p><p>a z  a  n  h <br><img src="https://img-blog.csdnimg.cn/20210810222108585.png"><br> r<br><img src="https://img-blog.csdnimg.cn/20210810222123920.png"><br> a  r<br><img src="https://img-blog.csdnimg.cn/20210810222136166.png"><br> Direct3D  D3DXMatrixPerspectiveFovLH()  r  p / 4  z </p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>Tomas Moller  Eric Haines Real-Time RenderingComputer GraphicsPrinciples and Practice by James D. FoleyAndries van DamSteven K. Feiner  John F. Hughes</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%8A%95%E5%BD%B1%E7%9F%A9%E9%98%B5/"/>
    
  </entry>
  
  <entry>
    <title>Markdown</title>
    <link href="https://www.yangshuohao.com/posts/3c50d03d.html"/>
    <id>https://www.yangshuohao.com/posts/3c50d03d.html</id>
    <published>2021-08-07T14:12:12.000Z</published>
    <updated>2021-09-19T07:55:21.994Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p> John Gruber  Markdown <br><img src="https://img-blog.csdnimg.cn/2021080722171071.png"></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p> Markdown <br><img src="https://img-blog.csdnimg.cn/20210807221747578.png"></p><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p><a href="https://www.markdown.xyz/">Markdown </a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="Markdown" scheme="https://www.yangshuohao.com/categories/Markdown/"/>
    
    
    <category term="Markdown" scheme="https://www.yangshuohao.com/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>KMSpicoWindowsOffice</title>
    <link href="https://www.yangshuohao.com/posts/7ecc7ae0.html"/>
    <id>https://www.yangshuohao.com/posts/7ecc7ae0.html</id>
    <published>2021-08-07T12:43:45.000Z</published>
    <updated>2021-09-19T07:55:21.993Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="KMSpico"><a href="#KMSpico" class="headerlink" title="KMSpico"></a>KMSpico</h1><p><a href="https://pan.baidu.com/s/1jghgYDQNRielpvgU1yh5gA">KMSpico</a> 6666</p><h1 id="KMSpico"><a href="#KMSpico" class="headerlink" title="KMSpico"></a>KMSpico</h1><ol><li>KMSpico</li><li>&gt;<br><img src="https://www.getkmspico.com/images/2.jpg"></li><li>TokensI</li><li><br><img src="https://www.getkmspico.com/images/6.png"></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E8%BD%AF%E4%BB%B6/"/>
    
    
    <category term="KMSpico" scheme="https://www.yangshuohao.com/tags/KMSpico/"/>
    
    <category term="Windows" scheme="https://www.yangshuohao.com/tags/Windows/"/>
    
    <category term="office" scheme="https://www.yangshuohao.com/tags/office/"/>
    
  </entry>
  
  <entry>
    <title>V2RayTor</title>
    <link href="https://www.yangshuohao.com/posts/5a898c2c.html"/>
    <id>https://www.yangshuohao.com/posts/5a898c2c.html</id>
    <published>2021-08-04T14:18:31.000Z</published>
    <updated>2021-09-19T07:55:22.001Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="Tor"><a href="#Tor" class="headerlink" title="Tor"></a>Tor</h1><p><a href="https://www.torproject.org/download/"></a></p><h1 id="torOptions"><a href="#torOptions" class="headerlink" title="torOptions"></a>torOptions</h1><p><img src="https://img-blog.csdnimg.cn/20210804220646257.png"></p><h1 id="torproject"><a href="#torproject" class="headerlink" title="torproject"></a>torproject</h1><p><img src="https://img-blog.csdnimg.cn/20210804220947991.png"></p><h1 id="V2RayNCoreIP"><a href="#V2RayNCoreIP" class="headerlink" title="V2RayNCoreIP"></a>V2RayNCoreIP</h1><p><img src="https://img-blog.csdnimg.cn/20210804221245534.png"></p><h1 id="TorIP"><a href="#TorIP" class="headerlink" title="TorIP"></a>TorIP</h1><p><img src="https://img-blog.csdnimg.cn/20210804221056877.png"></p><h1 id="ConnectTorhttps-check-torproject-org-"><a href="#ConnectTorhttps-check-torproject-org-" class="headerlink" title="ConnectTorhttps://check.torproject.org/ "></a>ConnectTor<a href="https://check.torproject.org/">https://check.torproject.org/</a> </h1><p><img src="https://img-blog.csdnimg.cn/2021080422152456.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E9%BB%91%E5%AE%A2%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="Tor" scheme="https://www.yangshuohao.com/tags/Tor%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E6%B7%B1%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>VSVA</title>
    <link href="https://www.yangshuohao.com/posts/a050db0a.html"/>
    <id>https://www.yangshuohao.com/posts/a050db0a.html</id>
    <published>2021-08-01T06:35:19.000Z</published>
    <updated>2021-09-19T07:55:21.995Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><h1 id="VA"><a href="#VA" class="headerlink" title="VA"></a>VA</h1><blockquote><p><a href="https://pan.baidu.com/s/1IfH9Um9o_yKpj9UFIwO0iQ"></a><br>9gy6</p></blockquote><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p><img src="https://img-blog.csdnimg.cn/20210801144914229.png"><br><img src="https://img-blog.csdnimg.cn/20210801144920161.png"></p><h1 id="VA-X-dll"><a href="#VA-X-dll" class="headerlink" title="VA_X.dll"></a>VA_X.dll</h1><p>CrackVA_X.dllVA_X.dll</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E8%BD%AF%E4%BB%B6/"/>
    
    
    <category term="VisualStudio" scheme="https://www.yangshuohao.com/tags/VisualStudio%E6%8F%92%E4%BB%B6/"/>
    
    <category term="VisualAssist" scheme="https://www.yangshuohao.com/tags/VisualAssist/"/>
    
    <category term="" scheme="https://www.yangshuohao.com/tags/%E5%B0%8F%E7%95%AA%E8%8C%84/"/>
    
  </entry>
  
  <entry>
    <title>hexo,github</title>
    <link href="https://www.yangshuohao.com/posts/ad99d39e.html"/>
    <id>https://www.yangshuohao.com/posts/ad99d39e.html</id>
    <published>2021-07-31T02:26:34.000Z</published>
    <updated>2021-09-19T07:55:21.996Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\css\APlayer.min.css"><script src="\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\js\Meting.min.js"></script><blockquote><p><strong>Shift+F5</strong></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\js\APlayer.min.js&quot; class=&quot;aplayer-se</summary>
      
    
    
    
    <category term="" scheme="https://www.yangshuohao.com/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="hexo" scheme="https://www.yangshuohao.com/tags/hexo/"/>
    
  </entry>
  
</feed>
